<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eventza - College Club Event Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #1c002d;
            --accent: #f72585;
            --light: #c191cd;
            --dark: #212529;
            --success: #4cc9f0;
            --warning: #f8961e;
            --danger: #ef233c;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: var(--dark);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header Styles */
        header {
            background-color: var(--primary);
            color: white;
            padding: 1rem 2rem;
            box-shadow: var(--box-shadow);
            transition: all 0.3s ease;
        }

        header:hover {
            background-color: var(--secondary);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .nav-links {
            display: flex;
            gap: 1.5rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            position: relative;
        }

        .nav-links a:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background-color: white;
            transition: width 0.3s ease;
        }

        .nav-links a:hover:after {
            width: 100%;
        }

        .nav-links a:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .mobile-menu {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .mobile-menu:hover {
            transform: rotate(90deg);
        }

        /* Main Content */
        main {
            flex: 1;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 4rem 2rem;
            background: linear-gradient(135deg, #2c3e50, #34495e);
            border-radius: 15px;
            margin: 2rem auto;
            max-width: 1200px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            transition: all 0.21s ease;
        }

        .hero:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.3);
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(0deg);
            transition: transform 14s linear;
        }

        .hero:hover::before {
            transform: rotate(360deg);
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: #ffffff;
            position: relative;
        }

        .hero p {
            font-size: 1.2rem;
            color: #ecf0f1;
            margin-bottom: 2rem;
            position: relative;
        }

        @keyframes gradientFlow {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        /* User Types Section */
        .user-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .user-card {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--box-shadow);
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            z-index: 1;
            overflow: hidden;
        }

        .user-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .user-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
        }

        .user-card:hover::before {
            opacity: 0.05;
        }

        .user-card i {
            font-size: 3.5rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
            transition: transform 0.5s ease, color 0.3s ease;
        }

        .user-card:hover i {
            transform: scale(1.1) rotate(10deg);
            color: var(--accent);
        }

        .user-card h2 {
            margin-bottom: 1rem;
            color: var(--dark);
            position: relative;
            display: inline-block;
        }

        .user-card h2::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 50%;
            background-color: var(--accent);
            transition: width 0.3s ease, left 0.3s ease;
        }

        .user-card:hover h2::after {
            width: 100%;
            left: 0;
        }

        .user-card p {
            color: #6c757d;
            margin-bottom: 1.5rem;
        }

        /* Buttons */
        .btn {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 600;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            transition: left 0.3s ease;
            z-index: -1;
        }

        .btn:hover::before {
            left: 0;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-secondary {
            background-color: var(--secondary);
            color: white;
        }

        .btn-secondary:hover {
            background-color: #2e268e;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-accent {
            background-color: var(--accent);
            color: white;
        }

        .btn-accent:hover {
            background-color: #d91a6e;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* Upcoming Events Section */
        .upcoming-events {
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            color: var(--dark);
            position: relative;
            padding-bottom: 0.8rem;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 70px;
            height: 4px;
            background-color: var(--primary);
            transition: width 0.3s ease;
        }

        .section-title:hover::after {
            width: 150px;
        }

        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.8rem;
        }

        .event-card {
            background-color: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: all 0.3s ease;
            position: relative;
        }

        .event-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .event-image {
            height: 180px;
            background-color: #ddd;
            background-size: cover;
            background-position: center;
            transition: all 0.5s ease;
            position: relative;
        }

        .event-image .edit-image-btn {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.6);
            color: white;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .event-card:hover .edit-image-btn {
            opacity: 1;
        }

        .event-content {
            padding: 1.8rem;
        }

        .event-date {
            color: var(--accent);
            font-weight: 600;
            margin-bottom: 0.7rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .event-date::before {
            content: '\f073';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
        }

        .event-title {
            margin-bottom: 0.75rem;
            font-size: 1.4rem;
            transition: color 0.3s ease;
        }

        .event-card:hover .event-title {
            color: var(--primary);
        }

        .event-description {
            color: #6c757d;
            margin-bottom: 1.2rem;
            line-height: 1.6;
        }

        .event-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1.2rem;
            padding-top: 1rem;
            border-top: 1px solid #eee;
        }

        .event-club {
            color: var(--primary);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-right: auto;
        }

        .event-club::before {
            content: '\f0c0';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
        }

        .event-fee {
            color: var(--accent);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-right: 1rem;
        }

        /* About Section */
        .about-section {
            background-color: white;
            padding: 3rem 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: var(--box-shadow);
            text-align: center;
            transition: all 0.3s ease;
        }

        .about-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .about-content {
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.8;
        }

        .about-signature {
            font-style: italic;
            margin-top: 2rem;
            color: var(--primary);
            font-weight: 600;
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 2.5rem;
            text-align: center;
            position: relative;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--accent), var(--success));
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 1.5rem 0;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            padding: 0.5rem 0;
        }

        .footer-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 50%;
            background-color: var(--primary);
            transition: width 0.3s ease, left 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--accent);
        }

        .footer-links a:hover::after {
            width: 100%;
            left: 0;
        }

        /* Login Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .modal-header {
            padding: 15px 20px;
            border-bottom: 1px solid #dee2e6;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8f9fa;
            position: sticky;
            top: 0;
            z-index: 1;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 1.5em;
            color: #333;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5em;
            color: #666;
            cursor: pointer;
            padding: 0 5px;
            line-height: 1;
        }

        .close-btn:hover {
            color: #333;
        }

        .modal-body {
            padding: 20px;
            overflow-y: auto;
            max-height: calc(90vh - 120px); /* Account for header and footer */
        }

        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #dee2e6;
            background: #f8f9fa;
            position: sticky;
            bottom: 0;
            z-index: 1;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        /* Update form styles */
        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #333;
            font-weight: 500;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 0.95em;
        }

        /* Update UPI payment box */
        .upi-payment-box {
            max-height: 300px;
            overflow-y: auto;
            margin: 15px 0;
        }

        /* Update success message */
        .success-message {
            text-align: center;
            padding: 20px;
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            margin: 10px 0;
        }

        /* Add custom scrollbar for modal body */
        .modal-body::-webkit-scrollbar {
            width: 6px;
        }

        .modal-body::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        .modal-body::-webkit-scrollbar-thumb {
            background: #0d47a1;
            border-radius: 3px;
        }

        .modal-body::-webkit-scrollbar-thumb:hover {
            background: #0a3d8f;
        }

        /* Update button styles */
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.95em;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #0d47a1;
            color: white;
        }

        .btn-primary:hover {
            background: #0a3d8f;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        /* New Admin Features */
        .admin-features {
            display: none;
            margin-top: 2rem;
        }

        .admin-panel {
            background-color: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: var(--box-shadow);
            margin-bottom: 1.5rem;
        }

        .admin-panel h3 {
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .admin-action-btn {
            margin-right: 1rem;
            margin-bottom: 1rem;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }

        .animate-fadeIn {
            animation: fadeIn 0.6s ease forwards;
        }

        .animate-slideIn {
            animation: slideIn 0.4s ease forwards;
        }

        .animate-pulse {
            animation: pulse 2s infinite;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .mobile-menu {
                display: block;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .user-card,
            .event-card {
                transform: none !important;
            }
        }

        /* Enhanced Animations and Modern UI Elements */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Floating animation for cards */
        @keyframes float {
            0% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
            100% {
                transform: translateY(0px);
            }
        }

        .float-animation {
            animation: float 6s ease-in-out infinite;
        }

        /* Gradient text effect */
        .gradient-text {
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }

        /* Modern card hover effects */
        .modern-card-hover {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .modern-card-hover:hover {
            transform: translateY(-15px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        /* Glowing effect for important buttons */
        .btn-glow {
            position: relative;
            z-index: 1;
            overflow: hidden;
        }

        .btn-glow:after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(0deg);
            z-index: -1;
            transition: transform 10s linear;
        }

        .btn-glow:hover:after {
            transform: rotate(180deg);
        }

        /* Toast notification style */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--dark);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Success toast */
        .toast-success {
            background-color: var(--success);
        }

        /* Error toast */
        .toast-error {
            background-color: var(--danger);
        }

        /* Loading spinner */
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Improved form inputs with floating labels */
        .form-floating {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .form-floating input,
        .form-floating select {
            height: 60px;
            padding: 1.5rem 1rem 0.5rem;
            width: 100%;
            border: 2px solid #ced4da;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-floating label {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            padding: 1rem;
            pointer-events: none;
            border: 1px solid transparent;
            transform-origin: 0 0;
            transition: all 0.3s ease;
            color: #6c757d;
        }

        .form-floating input:focus,
        .form-floating select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.3);
        }

        .form-floating input:focus ~ label,
        .form-floating input:not(:placeholder-shown) ~ label,
        .form-floating select:focus ~ label,
        .form-floating select:not([value=""]):not(:focus) ~ label {
            transform: scale(0.85) translateY(-0.5rem) translateX(0.15rem);
            color: var(--primary);
        }

        /* Badge styles */
        .badge {
            display: inline-block;
            padding: 0.35em 0.65em;
            font-size: 0.75em;
            font-weight: 700;
            line-height: 1;
            color: #fff;
            text-align: center;
            white-space: nowrap;
            vertical-align: baseline;
            border-radius: 50rem;
        }

        .badge-primary {
            background-color: var(--primary);
        }

        .badge-secondary {
            background-color: var(--secondary);
        }

        .badge-accent {
            background-color: var(--accent);
        }

        /* Tooltip styles */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--dark);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--dark) transparent transparent transparent;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        /* Admin Dashboard Styles */
        .admin-dashboard {
            background-color: white;
            border-radius: 10px;
            box-shadow: var(--box-shadow);
            padding: 2rem;
            margin-bottom: 2rem;
            display: none;
        }

        .admin-dashboard.active {
            display: block;
        }

        .admin-dashboard h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--primary);
            padding-bottom: 0.5rem;
        }

        .admin-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 0.5rem;
        }

        .admin-tab {
            padding: 0.5rem 1rem;
            cursor: pointer;
            border-radius: 5px 5px 0 0;
            transition: all 0.3s ease;
        }

        .admin-tab.active {
            background-color: var(--primary);
            color: white;
        }

        .admin-tab:hover:not(.active) {
            background-color: #f0f0f0;
        }

        .admin-content {
            display: none;
        }

        .admin-content.active {
            display: block;
        }

        .event-select {
            width: 100%;
            padding: 0.75rem;
            margin-bottom: 1rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .registration-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
        }

        .registration-table th, 
        .registration-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        .registration-table th {
            background-color: #f5f5f5;
            font-weight: 600;
        }

        .registration-table tr:hover {
            background-color: #f9f9f9;
        }

        .status-badge {
            padding: 0.25rem 0.5rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            display: inline-block;
        }

        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }

        .status-confirmed {
            background-color: #d4edda;
            color: #155724;
        }

        .status-cancelled {
            background-color: #f8d7da;
            color: #721c24;
        }

        .payment-pending {
            background-color: #fff3cd;
            color: #856404;
        }

        .payment-completed {
            background-color: #d4edda;
            color: #155724;
        }

        .payment-failed {
            background-color: #f8d7da;
            color: #721c24;
        }

        .payment-not-required {
            background-color: #e2e3e5;
            color: #383d41;
        }

        .payment-refunded {
            background-color: #cce5ff;
            color: #004085;
        }

        .payment-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .summary-card {
            background-color: #f8f9fa;
            padding: 1rem;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            text-align: center;
        }

        .summary-card h3 {
            font-size: 1rem;
            color: #6c757d;
            margin-bottom: 0.5rem;
        }

        .summary-card p {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary);
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .btn-action {
            padding: 0.25rem 0.5rem;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s ease;
        }

        .btn-edit {
            background-color: var(--warning);
            color: white;
        }

        .btn-delete {
            background-color: var(--danger);
            color: white;
        }

        .btn-confirm {
            background-color: var(--success);
            color: white;
        }

        .btn-action:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        .payment-form {
            background-color: #f8f9fa;
            padding: 1.5rem;
            border-radius: 5px;
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .btn-submit {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .btn-submit:hover {
            background-color: var(--secondary);
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .payment-summary {
                grid-template-columns: 1fr;
            }
            
            .registration-table {
                display: block;
                overflow-x: auto;
            }
        }

        /* Image Upload Modal */
        .image-upload-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .image-upload-modal.active {
            opacity: 1;
            display: flex;
        }

        .image-upload-content {
            background-color: white;
            width: 100%;
            max-width: 500px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 25px rgba(0, 0, 0, 0.3);
            transform: translateY(-50px);
            opacity: 0;
            transition: all 0.4s ease;
        }

        .image-upload-modal.active .image-upload-content {
            transform: translateY(0);
            opacity: 1;
        }

        .image-preview {
            width: 100%;
            height: 200px;
            background-color: #f5f5f5;
            background-size: cover;
            background-position: center;
            margin-bottom: 1rem;
        }

        .image-upload-form {
            padding: 1.5rem;
        }

        /* Add these styles to your existing CSS */
        .upi-id {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
        }

        .copy-upi {
            padding: 5px 10px;
            font-size: 0.9em;
        }

        .alert-info {
            background-color: #e3f2fd;
            border-color: #90caf9;
            color: #0d47a1;
        }

        /* Add these styles to your existing CSS */
        .upi-alert {
            background-color: #e3f2fd;
            border: 2px solid #90caf9;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .upi-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: #0d47a1;
        }

        .upi-header i {
            font-size: 24px;
        }

        .upi-content {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .upi-instructions {
            margin-bottom: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }

        .upi-instructions p {
            margin: 5px 0;
            color: #333;
        }

        .upi-id-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .upi-id-box, .upi-amount-box {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }

        .upi-label {
            font-weight: bold;
            color: #495057;
        }

        .upi-value {
            font-family: monospace;
            font-size: 1.1em;
            color: #0d47a1;
        }

        .copy-upi {
            margin-left: auto;
            padding: 5px 10px;
            font-size: 0.9em;
        }

        .success-message {
            text-align: center;
            padding: 20px;
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            margin: 10px 0;
            display: none;
        }

        .success-message i {
            color: #28a745;
            font-size: 24px;
            margin-bottom: 10px;
        }

        .success-message h4 {
            color: #155724;
            margin-bottom: 10px;
        }

        .success-message p {
            color: #155724;
            margin: 5px 0;
        }

        /* Add these styles */
        .upi-payment-box {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .upi-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: #0d47a1;
        }

        .upi-header i {
            font-size: 24px;
        }

        .upi-content {
            background: white;
            padding: 15px;
            border-radius: 6px;
        }

        .upi-instructions {
            margin-bottom: 15px;
            padding: 10px;
            background: #e3f2fd;
            border-radius: 4px;
        }

        .upi-instructions p {
            margin: 5px 0;
            color: #333;
        }

        .upi-details {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .upi-id, .upi-amount {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 4px;
            border: 1px solid #dee2e6;
        }

        .upi-id strong, .upi-amount strong {
            font-family: monospace;
            font-size: 1.1em;
            color: #0d47a1;
        }

        .copy-btn {
            margin-left: auto;
            padding: 5px 10px;
            font-size: 0.9em;
            background: #e3f2fd;
            border: 1px solid #90caf9;
            border-radius: 4px;
            color: #0d47a1;
            cursor: pointer;
        }

        .copy-btn:hover {
            background: #bbdefb;
        }

        .event-info-box {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            border: 1px solid #90caf9;
        }

        .event-info-box h4 {
            color: #0d47a1;
            margin-bottom: 10px;
        }

        .event-info-box p {
            margin: 5px 0;
            color: #333;
        }

        /* Add these styles */
        .student-container {
            display: flex;
            gap: 20px;
            height: calc(100vh - 60px);
            overflow: hidden;
        }

        .student-sidebar {
            width: 280px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .student-profile {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .profile-image {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
            color: #0d47a1;
            font-size: 48px;
        }

        .profile-stats {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #666;
        }

        .stat-item i {
            color: #0d47a1;
        }

        .student-menu {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 15px;
            border: none;
            background: none;
            border-radius: 8px;
            color: #666;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .menu-item:hover {
            background: #f8f9fa;
            color: #0d47a1;
        }

        .menu-item.active {
            background: #e3f2fd;
            color: #0d47a1;
        }

        .student-main-content {
            flex: 1;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            overflow-y: auto;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .event-filters, .registration-filters {
            display: flex;
            gap: 10px;
        }

        .event-filters select, .registration-filters select {
            padding: 8px 12px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            background: white;
        }

        .event-filters input {
            padding: 8px 12px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            width: 200px;
        }

        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            padding: 10px;
        }

        .event-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .event-card:hover {
            transform: translateY(-5px);
        }

        .event-image {
            height: 160px;
            overflow: hidden;
        }

        .event-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .event-content {
            padding: 15px;
        }

        .event-content h3 {
            margin: 0 0 10px;
            color: #333;
        }

        .event-details {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 15px;
        }

        .event-details p {
            margin: 0;
            color: #666;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .event-details i {
            color: #0d47a1;
            width: 16px;
        }

        .register-btn {
            width: 100%;
            padding: 10px;
            background: #0d47a1;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .register-btn:hover {
            background: #0a3d8f;
        }

        .registrations-table-container {
            overflow-x: auto;
        }

        .registrations-table {
            width: 100%;
            border-collapse: collapse;
        }

        .registrations-table th,
        .registrations-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        .registrations-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.9em;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-confirmed {
            background: #d4edda;
            color: #155724;
        }

        .status-completed {
            background: #cce5ff;
            color: #004085;
        }

        .history-timeline {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .history-item {
            display: flex;
            gap: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #0d47a1;
        }

        .history-date {
            min-width: 100px;
            color: #666;
        }

        .history-content {
            flex: 1;
        }

        .history-content h4 {
            margin: 0 0 5px;
            color: #333;
        }

        .history-content p {
            margin: 0;
            color: #666;
        }

        /* Update the registration form */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 1em;
        }

        .form-group input:focus,
        .form-group select:focus {
            border-color: #0d47a1;
            outline: none;
            box-shadow: 0 0 0 2px rgba(13, 71, 161, 0.1);
        }

        /* Add custom scrollbar */
        .student-main-content::-webkit-scrollbar {
            width: 8px;
        }

        .student-main-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .student-main-content::-webkit-scrollbar-thumb {
            background: #0d47a1;
            border-radius: 4px;
        }

        .student-main-content::-webkit-scrollbar-thumb:hover {
            background: #0a3d8f;
        }

        /* Add these styles */
        .event-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .event-header h4 {
            margin: 0;
            color: #0d47a1;
        }

        .btn-outline-primary {
            border: 1px solid #0d47a1;
            color: #0d47a1;
            background: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-outline-primary:hover {
            background: #0d47a1;
            color: white;
        }

        .event-details-preview {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            border: 1px solid #dee2e6;
        }

        .preview-header {
            margin-bottom: 10px;
        }

        .preview-header h5 {
            color: #0d47a1;
            margin: 0;
        }

        .preview-content {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .preview-content p {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
        }

        .preview-content i {
            color: #0d47a1;
            width: 16px;
        }

        #event-selector {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #dee2e6;
        }

        /* Add these styles */
        .selected-event-details {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
        }

        .selected-event-details h5 {
            color: #0d47a1;
            margin: 0 0 15px;
            font-size: 1.1em;
        }

        .event-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        .info-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 6px;
            border: 1px solid #dee2e6;
        }

        .info-item i {
            color: #0d47a1;
            width: 16px;
        }

        .info-item span {
            color: #666;
        }

        .info-item strong {
            color: #333;
        }

        /* Update existing styles */
        .event-info-box {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #dee2e6;
        }

        .event-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #dee2e6;
        }

        .event-header h4 {
            margin: 0;
            color: #0d47a1;
            font-size: 1.2em;
        }

        /* Update student tab styles */
        .student-container {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .search-section {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .search-box {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 12px 40px 12px 15px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            border-color: #0d47a1;
            outline: none;
            box-shadow: 0 0 0 3px rgba(13, 71, 161, 0.1);
        }

        .search-box i {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }

        .filter-box select {
            padding: 12px 20px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1em;
            background: white;
            min-width: 200px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-box select:focus {
            border-color: #0d47a1;
            outline: none;
            box-shadow: 0 0 0 3px rgba(13, 71, 161, 0.1);
        }

        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            padding: 10px;
        }

        .event-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .event-card:hover {
            transform: translateY(-5px);
        }

        .event-content {
            padding: 20px;
        }

        .event-content h3 {
            margin: 0 0 10px;
            color: #333;
            font-size: 1.3em;
        }

        .event-content p {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .event-details {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .event-details p {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #666;
        }

        .event-details i {
            color: #0d47a1;
            width: 16px;
        }

        .event-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid #dee2e6;
        }

        .event-fee {
            font-weight: 600;
            color: #0d47a1;
        }

        .register-btn {
            padding: 10px 20px;
            background: #0d47a1;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .register-btn:hover {
            background: #0a3d8f;
        }

        .header {
            background: #1c002d;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 15px;
        }

        .logo h1 {
            color: white;
            font-size: 1.5em;
            margin: 0;
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: 25px;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-size: 0.95em;
            font-weight: 500;
            transition: opacity 0.3s ease;
        }

        .nav-links a:hover {
            opacity: 0.8;
        }

        .search-container {
            display: flex;
            gap: 10px;
            flex: 1;
            max-width: 500px;
            margin: 0 15px;
        }

        .search-box {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
        }

        .search-box input {
            width: 100%;
            padding: 8px 35px 8px 12px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 6px;
            font-size: 0.9em;
            background: rgba(255,255,255,0.1);
            color: white;
            transition: all 0.3s ease;
        }

        .search-box input::placeholder {
            color: rgba(255,255,255,0.7);
        }

        .search-box input:focus {
            background: rgba(255,255,255,0.15);
            border-color: rgba(255,255,255,0.3);
            outline: none;
        }

        .search-box button {
            position: absolute;
            right: 8px;
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            padding: 5px;
        }

        .search-box button:hover {
            opacity: 0.8;
        }

        .filter-box select {
            padding: 8px 12px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 6px;
            font-size: 0.9em;
            background: rgba(255,255,255,0.1);
            color: white;
            min-width: 130px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-box select:focus {
            background: rgba(255,255,255,0.15);
            border-color: rgba(255,255,255,0.3);
            outline: none;
        }

        .filter-box select option {
            background: #1c002d;
            color: white;
        }

        main {
            margin-top: 60px;
        }

        .search-section {
            display: none;
        }

        .admin-dashboard {
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }
        .admin-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .member-list {
            margin-top: 15px;
        }
        .member-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: white;
            margin-bottom: 10px;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .member-actions {
            display: flex;
            gap: 10px;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <h1>Eventza</h1>
            </div>
            <div class="nav-links">
                <a href="#home">Home</a>
                <a href="#events">Events</a>
                <a href="#about">About</a>
                <a href="#contact">Contact</a>
            </div>
            <div class="search-container">
                <div class="search-box">
                    <input type="text" id="event-search" placeholder="Search events...">
                    <button onclick="performSearch()">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <div class="filter-box">
                    <select id="event-category-filter" onchange="performSearch()">
                        <option value="all">All Categories</option>
                        <option value="technical">Technical</option>
                        <option value="cultural">Cultural</option>
                        <option value="business">Business</option>
                    </select>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="hero animate-fadeIn" style="animation-delay: 0.2s;">
            <h1><span class="gradient-text">College Club Event Management</span></h1>
            <p>A comprehensive platform for managing college club events, registrations, and financial tracking.</p>
            <a href="#user-options" class="btn btn-accent btn-glow animate-pulse">Get Started</a>
        </section>

        <section class="user-types animate-fadeIn" id="user-options" style="animation-delay: 0.4s;">
            <div class="user-card modern-card-hover" id="student-card">
                <i class="fas fa-user-graduate"></i>
                <h2>Students</h2>
                <p>Register for events and workshops hosted by various college clubs.</p>
                <button class="btn btn-primary btn-glow" id="student-btn">Register for Event</button>
            </div>

            <div class="user-card modern-card-hover" id="club-member-card">
                <h2>Club Members</h2>
                <p>Create and manage events, track expenses, and monitor registrations.</p>
                <a href="club-member-login.html" class="btn btn-secondary" id="club-member-btn">
                    Club Member Login
                </a>
            </div>

            <div class="user-card modern-card-hover" id="faculty-admin-card">
                <i class="fas fa-user-tie"></i>
                <h2>Admin</h2>
                <p>Oversee all events, access financial reports, and manage club activities.</p>
                <a href="admin-login.html" class="btn btn-accent btn-glow" id="faculty-admin-btn">Admin Login</a>
            </div>
        </section>

        <section class="upcoming-events animate-fadeIn" id="events" style="animation-delay: 0.6s;">
            <h2 class="section-title">Upcoming Events</h2>
            <div class="events-grid">
                <div class="event-card modern-card-hover float-animation">
                    <div class="event-image">
                        <img src="https://images.unsplash.com/photo-1517694712202-14dd9538aa97?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Web Development Workshop">
                    </div>
                    <div class="event-content">
                        <h3>Web Development Workshop</h3>
                        <p>Learn the fundamentals of web development with HTML, CSS, and JavaScript.</p>
                        <div class="event-details">
                            <p><i class="fas fa-calendar"></i> May 15, 2025</p>
                            <p><i class="fas fa-clock"></i> 2:00 PM</p>
                            <p><i class="fas fa-map-marker-alt"></i> Tech Club</p>
                            <p><i class="fas fa-users"></i> 0/50 participants</p>
                            <p><i class="fas fa-ticket-alt"></i> Entry Fee: 500</p>
                        </div>
                        <button class="btn btn-primary register-btn" onclick="openRegistrationModal('1', 'Web Development Workshop', 500)">
                            Register Now
                        </button>
                    </div>
                </div>

                <div class="event-card modern-card-hover float-animation" style="animation-delay: 1s;">
                    <div class="event-image">
                        <img src="https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="Annual Music Concert">
                    </div>
                    <div class="event-content">
                        <h3>Annual Music Concert</h3>
                        <p>Join us for a night of music, featuring performances from talented students.</p>
                        <div class="event-details">
                            <p><i class="fas fa-calendar"></i> May 20, 2025</p>
                            <p><i class="fas fa-clock"></i> 5:30 PM</p>
                            <p><i class="fas fa-map-marker-alt"></i> Music Club</p>
                            <p><i class="fas fa-users"></i> 0/75 participants</p>
                            <p><i class="fas fa-ticket-alt"></i> Entry Fee: 750</p>
                        </div>
                        <button class="btn btn-primary register-btn" onclick="openRegistrationModal('2', 'Annual Music Concert', 750)">
                            Register Now
                        </button>
                    </div>
                </div>

                <div class="event-card modern-card-hover float-animation" style="animation-delay: 2s;">
                    <div class="event-image">
                        <img src="https://images.unsplash.com/photo-1556761175-5973dc0f32e7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1632&q=80" alt="Entrepreneurship Summit">
                    </div>
                    <div class="event-content">
                        <h3>Entrepreneurship Summit</h3>
                        <p>Network with successful entrepreneurs and learn about startup opportunities.</p>
                        <div class="event-details">
                            <p><i class="fas fa-calendar"></i> June 5, 2025</p>
                            <p><i class="fas fa-clock"></i> 10:00 AM</p>
                            <p><i class="fas fa-map-marker-alt"></i> E-Cell</p>
                            <p><i class="fas fa-users"></i> 0/100 participants</p>
                            <p><i class="fas fa-ticket-alt"></i> Entry Fee: 1000</p>
                        </div>
                        <button class="btn btn-primary register-btn" onclick="openRegistrationModal('3', 'Entrepreneurship Summit', 1000)">
                            Register Now
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section class="about-section animate-fadeIn" id="about" style="animation-delay: 0.8s;">
            <h2 class="section-title">About Eventza</h2>
            <div class="about-content">
                <p>Eventza is a powerful platform designed to streamline the management of college club events. Our system makes it easy for students to discover and register for events, while providing club members with tools to organize events and track participation.</p>
                <p>Faculty and administrators can oversee all activities and ensure proper management of resources and finances.</p>
                <p class="about-signature">This website is made and developed by Shashank Vispute [S.Y. AIDS student].</p>
            </div>
        </section>

        <!-- Admin Features Section (Hidden by default) -->
        <section class="admin-features" id="admin-features">
            <h2 class="section-title">Admin Dashboard</h2>
            <div class="admin-panel modern-card-hover">
                <h3><i class="fas fa-calendar-plus"></i> Event Management</h3>
                <button class="btn btn-primary btn-glow admin-action-btn" id="create-event-btn">Create New Event</button>
                <button class="btn btn-secondary btn-glow admin-action-btn" id="edit-events-btn">Edit Existing Events</button>
            </div>
            <div class="admin-panel modern-card-hover">
                <h3><i class="fas fa-chart-line"></i> Financial Reports</h3>
                <button class="btn btn-primary btn-glow admin-action-btn" id="view-finances-btn">View Financial Reports</button>
                <button class="btn btn-secondary btn-glow admin-action-btn" id="export-finances-btn">Export Reports</button>
            </div>
            <div class="admin-panel modern-card-hover">
                <h3><i class="fas fa-users-cog"></i> User Management</h3>
                <button class="btn btn-primary btn-glow admin-action-btn" id="create-user-btn">Create New User</button>
                <button class="btn btn-secondary btn-glow admin-action-btn" id="manage-users-btn">Manage Existing Users</button>
            </div>
        </section>

        <!-- Admin Dashboard Section -->
        <section id="admin-dashboard" class="admin-dashboard">
            <h2>Admin Dashboard</h2>
            
            <div class="admin-tabs">
                <div class="admin-tab active" data-tab="registrations">Student Registrations</div>
                <div class="admin-tab" data-tab="payments">Fee Management</div>
            </div>
            
            <!-- Student Registrations Tab -->
            <div class="admin-content active" id="registrations-content">
                <h3>Student Registrations</h3>
                
                <select class="event-select" id="event-select-admin">
                    <option value="">Select an event</option>
                    <!-- Events will be populated dynamically -->
                </select>
                
                <table class="registration-table">
                    <thead>
                        <tr>
                            <th>Student Name</th>
                            <th>Student ID</th>
                            <th>Email</th>
                            <th>Registration Date</th>
                            <th>Status</th>
                            <th>Payment Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="registrations-table-body">
                        <!-- Registrations will be populated dynamically -->
                    </tbody>
                </table>
            </div>
            
            <!-- Fee Management Tab -->
            <div class="admin-content" id="payments-content">
                <h3>Fee Management</h3>
                
                <select class="event-select" id="payment-event-select">
                    <option value="">Select an event</option>
                    <!-- Events will be populated dynamically -->
                </select>
                
                <div class="payment-summary" id="payment-summary">
                    <div class="summary-card">
                        <h3>Total Registrations</h3>
                        <p id="total-registrations">0</p>
                    </div>
                    <div class="summary-card">
                        <h3>Expected Revenue</h3>
                        <p id="expected-revenue">0</p>
                    </div>
                    <div class="summary-card">
                        <h3>Collected Revenue</h3>
                        <p id="collected-revenue">0</p>
                    </div>
                    <div class="summary-card">
                        <h3>Collection Rate</h3>
                        <p id="collection-rate">0%</p>
                    </div>
                </div>
                
                <h4>Payment Details</h4>
                <table class="registration-table">
                    <thead>
                        <tr>
                            <th>Student Name</th>
                            <th>Student ID</th>
                            <th>Amount</th>
                            <th>Payment Status</th>
                            <th>Payment Date</th>
                            <th>Payment Method</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="payments-table-body">
                        <!-- Payments will be populated dynamically -->
                    </tbody>
                </table>
                
                <div class="payment-form" id="update-payment-form" style="display: none;">
                    <h4>Update Payment</h4>
                    <form id="payment-form">
                        <input type="hidden" id="registration-id">
                        <div class="form-group">
                            <label for="payment-status">Payment Status</label>
                            <select class="form-control" id="payment-status">
                                <option value="pending">Pending</option>
                                <option value="completed">Completed</option>
                                <option value="failed">Failed</option>
                                <option value="refunded">Refunded</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="payment-method">Payment Method</label>
                            <select class="form-control" id="payment-method">
                                <option value="cash">Cash</option>
                                <option value="online">Online</option>
                                <option value="card">Card</option>
                                <option value="upi">UPI</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="payment-reference">Payment Reference</label>
                            <input type="text" class="form-control" id="payment-reference" placeholder="Transaction ID or reference">
                        </div>
                        <div class="form-group">
                            <label for="payment-notes">Notes</label>
                            <textarea class="form-control" id="payment-notes" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="transaction-id">Transaction ID <span class="text-danger">*</span></label>
                            <input type="text" id="transaction-id" name="transaction-id" class="form-control" required>
                            <div class="invalid-feedback">
                                Please enter your Transaction ID
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="payment-screenshot">Payment Screenshot</label>
                            <input type="file" id="payment-screenshot" name="payment-screenshot" accept="image/*">
                        </div>
                        <button type="submit" class="btn-submit">Update Payment</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer class="animate-fadeIn" style="animation-delay: 1s;">
        <div class="footer-content">
            <p>&copy; 2025 <span class="gradient-text">Eventza</span> - College Club Event Management</p>
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#contact">Contact Us</a>
            </div>
        </div>
    </footer>

    <!-- Toast Notification Container -->
    <div id="toast-container"></div>

    <!-- Login Modals -->
    <div class="modal" id="student-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Event Registration</h2>
                <button class="close-btn" onclick="hideModal(document.getElementById('student-modal'))">&times;</button>
            </div>
            <div class="modal-body">
                <div class="event-info-box">
                    <div class="event-header">
                        <h4>Selected Event</h4>
                        <button type="button" class="btn btn-outline-primary btn-sm" onclick="showEventSelector()">
                            <i class="fas fa-exchange-alt"></i> Change Event
                        </button>
                    </div>
                    <div id="selected-event-info">
                        <div class="selected-event-details">
                            <h5 id="selected-event-title"></h5>
                            <div class="event-info-grid">
                                <div class="info-item">
                                    <i class="fas fa-calendar"></i>
                                    <span>Date: <strong id="selected-event-date"></strong></span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-clock"></i>
                                    <span>Time: <strong id="selected-event-time"></strong></span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>Location: <strong id="selected-event-location"></strong></span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-users"></i>
                                    <span>Capacity: <strong id="selected-event-capacity"></strong></span>
                                </div>
                                <div class="info-item">
                                    <i class="fas fa-ticket-alt"></i>
                                    <span>Entry Fee: <strong><span id="selected-event-fee"></span></strong></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="event-selector" style="display: none;">
                        <div class="form-group">
                            <label for="modal-event-select">Select Event</label>
                            <select id="modal-event-select" class="form-control" onchange="updateSelectedEvent()">
                                <option value="">Choose an event...</option>
                            </select>
                        </div>
                        <div class="event-details-preview" id="event-details-preview" style="display: none;">
                            <div class="preview-header">
                                <h5>Event Details</h5>
                            </div>
                            <div class="preview-content">
                                <p><i class="fas fa-calendar"></i> <span id="preview-date"></span></p>
                                <p><i class="fas fa-clock"></i> <span id="preview-time"></span></p>
                                <p><i class="fas fa-map-marker-alt"></i> <span id="preview-location"></span></p>
                                <p><i class="fas fa-users"></i> <span id="preview-capacity"></span></p>
                                <p><i class="fas fa-ticket-alt"></i> Entry Fee: <span id="preview-fee"></span></p>
                            </div>
                        </div>
                    </div>
                </div>
                <form id="student-registration-form">
                    <div class="form-group">
                        <label for="name">Full Name</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="student-id">Student ID</label>
                        <input type="text" id="student-id" name="student-id" required>
                    </div>
                    <div class="form-group">
                        <label for="student-class">Class</label>
                        <select id="student-class" name="student-class" required>
                            <option value="">Select Class</option>
                            <option value="FY">First Year</option>
                            <option value="SY">Second Year</option>
                            <option value="TY">Third Year</option>
                            <option value="BE">Final Year</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="department">Department</label>
                        <select id="department" name="department" required>
                            <option value="">Select Department</option>
                            <option value="Artificial Intelligence">Artificial Intelligence</option>
                            <option value="Data Science">Data Science</option>
                            <option value="Chemical Engineering">Chemical Engineering</option>
                            <option value="Civil Engineering">Civil Engineering</option>
                            <option value="Computer Engineering">Computer Engineering</option>
                            <option value="Computer Science and Design">Computer Science and Design</option>
                            <option value="Electrical Engineering">Electrical Engineering</option>
                            <option value="Electronics & Telecommunication">Electronics & Telecommunication</option>
                            <option value="Information Technology">Information Technology</option>
                            <option value="Mechanical Engineering">Mechanical Engineering</option>
                            <option value="Robotics and Automation Engineering">Robotics and Automation Engineering</option>
                        </select>
                    </div>
                
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="payment-mode">Payment Mode</label>
                        <select id="payment-mode" name="payment-mode" required onchange="togglePaymentDetails()">
                            <option value="">Select Payment Mode</option>
                            <option value="online">Online Payment (UPI)</option>
                            <option value="cash">Cash Payment</option>
                        </select>
                    </div>
                    <div class="form-group" id="upi-details" style="display: none;">
                        <div class="upi-payment-box">
                            <div class="upi-header">
                                <i class="fas fa-qrcode"></i>
                                <h4>UPI Payment Details</h4>
                            </div>
                            <div class="upi-content">
                                <div class="upi-instructions">
                                    <p>1. Open your UPI payment app (Google Pay, PhonePe, etc.)</p>
                                    <p>2. Enter the UPI ID below</p>
                                    <p>3. Enter the amount shown</p>
                                    <p>4. Complete the payment</p>
                                    <p>5. Enter the transaction ID and upload screenshot below</p>
                                </div>
                                <div class="upi-details">
                                    <div class="upi-id">
                                        <span>UPI ID:</span>
                                        <strong>9404902005@ybl</strong>
                                        <button type="button" class="copy-btn" onclick="copyUPI()">
                                            <i class="fas fa-copy"></i> Copy
                                        </button>
                                    </div>
                                    <div class="upi-amount">
                                        <span>Amount:</span>
                                        <strong><span id="upi-amount">0</span></strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="transaction-id">Transaction ID <span class="text-danger">*</span></label>
                            <input type="text" id="transaction-id" name="transaction-id" class="form-control" required>
                            <div class="invalid-feedback">
                                Please enter your Transaction ID
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="payment-screenshot">Payment Screenshot</label>
                            <input type="file" id="payment-screenshot" name="payment-screenshot" accept="image/*">
                        </div>
                    </div>
                    <div class="form-group" id="cash-details" style="display: none;">
                        <div class="alert alert-info">
                            <p>Please pay the registration fee in cash at the college office.</p>
                            <p>Amount to pay: <span id="cash-amount">0</span></p>
                        </div>
                    </div>
                   
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="hideModal(document.getElementById('student-modal'))">Cancel</button>
                <button type="submit" form="student-registration-form" class="btn btn-primary">Submit Registration</button>
            </div>
        </div>
    </div>

    <div class="tab-content" id="student-tab">
        <div class="student-container">
            <div class="search-section">
                <div class="search-box">
                    <input type="text" id="event-search" placeholder="Search events..." onkeyup="filterEvents()">
                    <i class="fas fa-search"></i>
                </div>
                <div class="filter-box">
                    <select id="event-category-filter" onchange="filterEvents()">
                        <option value="all">All Categories</option>
                        <option value="technical">Technical</option>
                        <option value="cultural">Cultural</option>
                        <option value="business">Business</option>
                    </select>
                </div>
            </div>
            <div class="events-grid" id="upcoming-events-grid">
                <!-- Events will be dynamically added here -->
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div class="modal" id="adminLoginModal">
        <div class="modal-content admin-dashboard">
            <span class="close">&times;</span>
            <h2>Admin Login</h2>
            
            <form id="admin-login-form" class="login-form">
                <h2>Admin Login</h2>
                <div class="form-group">
                    <label for="admin-email">Email</label>
                    <input type="email" id="admin-email" name="admin-email" required placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label for="admin-password">Password</label>
                    <input type="password" id="admin-password" name="admin-password" required placeholder="Enter your password">
                </div>
                <div class="form-group remember-me">
                    <label class="checkbox-container">
                        <input type="checkbox" id="remember-me" name="remember-me">
                        <span class="checkmark"></span>
                        Remember me
                    </label>
                </div>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </form>
        </div>
    </div>

    <!-- Admin Dashboard Modal -->
    <div class="modal" id="adminDashboardModal">
        <div class="modal-content admin-dashboard">
            <span class="close">&times;</span>
            <h2>Admin Dashboard</h2>
            
            <!-- Create Member Section -->
            <div class="admin-section">
                <h3>Create New Club Member</h3>
                <form id="createMemberForm">
                    <div class="form-group">
                        <label for="memberName">Name</label>
                        <input type="text" id="memberName" required>
                    </div>
                    <div class="form-group">
                        <label for="memberEmail">Email</label>
                        <input type="email" id="memberEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="memberRole">Role</label>
                        <select id="memberRole" required>
                            <option value="organizer">Organizer</option>
                            <option value="guest">Guest</option>
                            <option value="vip">VIP</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="memberPassword">Password</label>
                        <input type="password" id="memberPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Create Member</button>
                </form>
            </div>

            <!-- Member Management Section -->
            <div class="admin-section">
                <h3>Manage Members</h3>
                <div class="member-list" id="memberList">
                    <!-- Members will be listed here dynamically -->
                </div>
            </div>

            <!-- Password Reset Section -->
            <div class="admin-section">
                <h3>Reset Password</h3>
                <form id="resetPasswordForm">
                    <div class="form-group">
                        <label for="resetEmail">Member Email</label>
                        <input type="email" id="resetEmail" required>
                    </div>
                    <button type="submit" class="btn btn-secondary">Reset Password</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Club Member Login Modal -->
    <div class="modal" id="clubMemberLoginModal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Club Member Login</h2>
            <form id="club-member-login-form">
                <div class="form-group">
                    <label for="club-member-email">Email</label>
                    <input type="email" id="club-member-email" required>
                </div>
                <div class="form-group">
                    <label for="club-member-password">Password</label>
                    <input type="password" id="club-member-password" required>
                </div>
                <button type="submit" class="btn btn-primary">Login</button>
            </form>
        </div>
    </div>

    <div class="success-message" id="success-message">
        <i class="fas fa-check-circle"></i>
        <span>Login successful! Redirecting...</span>
    </div>

    <script>
        // Admin credentials
        const adminCredentials = {
            email: "shashankvispute100@gmail.com",
            password: "Shashank@5"
        };

        // Club member credentials (can be managed by admin)
        let clubMemberCredentials = [
            {
                email: "techclub@example.com",
                password: "techclub123",
                club: "Tech Club"
            },
            {
                email: "musicclub@example.com",
                password: "musicclub123",
                club: "Music Club"
            },
            {
                email: "ecell@example.com",
                password: "ecell123",
                club: "E-Cell"
            }
        ];

        // DOM Elements
        const studentBtn = document.getElementById('student-btn');
        const clubMemberBtn = document.getElementById('club-member-btn');
        const studentModal = document.getElementById('student-modal');
        const clubMemberModal = document.getElementById('clubMemberLoginModal');
        const adminFeatures = document.getElementById('admin-features');
        const adminDashboard = document.getElementById('admin-dashboard');
        const adminLink = document.getElementById('adminLink');
        const closeBtns = document.querySelectorAll('.close-btn');
        const modalCloseBtns = document.querySelectorAll('.modal-close-btn');
        const mobileMenu = document.querySelector('.mobile-menu');
        const navLinks = document.querySelector('.nav-links');
        const toastContainer = document.getElementById('toast-container');
        const adminTabs = document.querySelectorAll('.admin-tab');
        const adminContents = document.querySelectorAll('.admin-content');

        // Mock events with fees and images
        const mockEvents = [
            {
                _id: '1',
                title: 'Web Development Workshop',
                description: 'Learn the fundamentals of web development with HTML, CSS, and JavaScript.',
                date: '2025-05-15',
                time: '2:00 PM',
                location: 'Tech Club',
                capacity: '0/50',
                entryFee: 500,
                category: 'technical'
            },
            {
                _id: '2',
                title: 'Annual Music Concert',
                description: 'Join us for a night of music, featuring performances from talented students.',
                date: '2025-05-20',
                time: '5:30 PM',
                location: 'Music Club',
                capacity: '0/75',
                entryFee: 750,
                category: 'cultural'
            },
            {
                _id: '3',
                title: 'Entrepreneurship Summit',
                description: 'Network with successful entrepreneurs and learn about startup opportunities.',
                date: '2025-06-05',
                time: '10:00 AM',
                location: 'E-Cell',
                capacity: '0/100',
                entryFee: 1000,
                category: 'business'
            }
        ];
        
        // Mock registrations
        let mockRegistrations = [
            {
                _id: '101',
                student: { 
                    name: 'John Doe', 
                    studentId: 'ST12345', 
                    email: 'john@example.com' 
                },
                eventId: '1',
                registrationDate: '2025-05-10T10:30:00',
                status: 'confirmed',
                paymentStatus: 'completed',
                paymentMethod: 'online',
                paymentReference: 'TXN123456',
                amount: 500
            },
            {
                _id: '102',
                student: { 
                    name: 'Jane Smith', 
                    studentId: 'ST12346', 
                    email: 'jane@example.com' 
                },
                eventId: '1',
                registrationDate: '2025-05-11T14:20:00',
                status: 'pending',
                paymentStatus: 'pending',
                paymentMethod: '',
                paymentReference: '',
                amount: 500
            },
            {
                _id: '103',
                student: { 
                    name: 'Mike Johnson', 
                    studentId: 'ST12347', 
                    email: 'mike@example.com' 
                },
                eventId: '2',
                registrationDate: '2025-05-12T09:15:00',
                status: 'confirmed',
                paymentStatus: 'failed',
                paymentMethod: 'card',
                paymentReference: 'FAILED123',
                amount: 750
            }
        ];

        // Event registration data
        let registeredEvents = [];

        // Show toast notification
        function showToast(message, type = 'default') {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.innerHTML = message;
            
            toastContainer.appendChild(toast);
            
            // Show the toast
            setTimeout(() => {
                toast.classList.add('show');
            }, 10);
            
            // Auto hide after 3 seconds
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    toastContainer.removeChild(toast);
                }, 300);
            }, 3000);
        }

        // Show modal function with animation
        function showModal(modal) {
            modal.style.display = 'flex';
            setTimeout(() => {
                modal.classList.add('active');
            }, 10);
        }

        // Hide modal function with animation
        function hideModal(modal) {
            modal.classList.remove('active');
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }

        // Button event listeners
        studentBtn.addEventListener('click', () => {
            showModal(studentModal);
        });

        clubMemberBtn.addEventListener('click', () => {
            showModal(clubMemberModal);
        });

        // Close buttons
        closeBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const modal = btn.closest('.modal');
                hideModal(modal);
            });
        });

        modalCloseBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const modal = btn.closest('.modal');
                hideModal(modal);
            });
        });

        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) {
                hideModal(e.target);
            }
        });

        // Mobile menu toggle
        mobileMenu.addEventListener('click', () => {
            navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
            mobileMenu.querySelector('i').classList.toggle('fa-bars');
            mobileMenu.querySelector('i').classList.toggle('fa-times');
        });

        // Form submissions
        document.getElementById('student-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const studentName = document.getElementById('student-name').value;
            const studentEmail = document.getElementById('student-email').value;
            const studentId = document.getElementById('student-id').value;
            const eventSelect = document.querySelector('#student-modal #event-select');
            const eventId = eventSelect.value;
            const eventName = eventSelect.options[eventSelect.selectedIndex].text;
            const eventFee = mockEvents.find(event => event._id === eventId)?.fee || 0;
            
            // Create new registration
            const newRegistration = {
                _id: 'REG' + Date.now(),
                student: {
                    name: studentName,
                    studentId: studentId,
                    email: studentEmail
                },
                eventId: eventId,
                registrationDate: new Date().toISOString(),
                status: 'confirmed',
                paymentStatus: 'pending',
                paymentMethod: '',
                paymentReference: '',
                amount: eventFee
            };
            
            // Add to mock registrations
            mockRegistrations.push(newRegistration);
            
            // Show success toast
            showToast(`Thank you, ${studentName}! You have successfully registered for "${eventName}". Fee: ${eventFee}`, 'success');
            
            // Reset form and close modal
            this.reset();
            hideModal(studentModal);
            
            // If admin dashboard is visible, refresh the data
            if (adminDashboard.classList.contains('active')) {
                const selectedEventId = document.getElementById('event-select-admin').value;
                if (selectedEventId === eventId) {
                    fetchEventStudents(eventId);
                }
                
                const paymentEventId = document.getElementById('payment-event-select').value;
                if (paymentEventId === eventId) {
                    fetchPaymentSummary(eventId);
                }
            }
        });

        document.getElementById('club-member-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('club-email').value;
            const password = document.getElementById('club-password').value;
            
            // Check credentials
            const clubMember = clubMemberCredentials.find(member => 
                member.email === email && member.password === password
            );
            
            if (clubMember) {
                showToast(`Welcome, ${clubMember.club} member! You are now logged in.`, 'success');
                this.reset();
                hideModal(clubMemberModal);
                // Here you would redirect to club member dashboard
            } else {
                showToast('Invalid credentials. Please try again.', 'error');
            }
        });

        document.getElementById('faculty-admin-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;
            
            // Check admin credentials
            if (email === adminCredentials.email && password === adminCredentials.password) {
                showToast('Welcome, Admin! You now have full access to the website.', 'success');
                this.reset();
                hideModal(facultyAdminModal);
                
                // Set admin logged in flag
                localStorage.setItem('adminLoggedIn', 'true');
                
                // Show admin dashboard
                adminDashboard.classList.add('active');
                
                // Scroll to admin dashboard
                adminDashboard.scrollIntoView({ behavior: 'smooth' });
            } else {
                showToast('Invalid admin credentials. Please try again.', 'error');
            }
        });

        // Admin panel functionality
        document.getElementById('create-event-btn').addEventListener('click', function() {
            const eventName = prompt('Enter event name:');
            const eventDate = prompt('Enter event date (e.g., May 15, 2025):');
            const eventTime = prompt('Enter event time (e.g., 2:00 PM):');
            const eventDescription = prompt('Enter event description:');
            const eventClub = prompt('Enter hosting club:');
            
            if (eventName && eventDate && eventTime && eventDescription && eventClub) {
                showToast(`New event "${eventName}" created successfully!`, 'success');
                // Here you would add the event to the database
            }
        });

        document.getElementById('create-user-btn').addEventListener('click', function() {
            const userEmail = prompt('Enter new club member email:');
            const userPassword = prompt('Enter password for new club member:');
            const userClub = prompt('Enter club name:');
            
            if (userEmail && userPassword && userClub) {
                clubMemberCredentials.push({
                    email: userEmail,
                    password: userPassword,
                    club: userClub
                });
                
                showToast(`New club member for "${userClub}" created successfully!`, 'success');
            }
        });

        document.getElementById('view-finances-btn').addEventListener('click', function() {
            showToast('Financial reports are being generated. This feature will be available soon.', 'default');
        });

        document.getElementById('export-finances-btn').addEventListener('click', function() {
            showToast('Export functionality will be available in the next update.', 'default');
        });

        document.getElementById('edit-events-btn').addEventListener('click', function() {
            showToast('Event editing functionality will be available in the next update.', 'default');
        });

        document.getElementById('manage-users-btn').addEventListener('click', function() {
            let userList = 'Current Club Members:\n\n';
            
            clubMemberCredentials.forEach(member => {
                userList += `Email: ${member.email}\nClub: ${member.club}\n\n`;
            });
            
            alert(userList);
        });

        // Add animation classes to elements when they come into view
        const animateOnScroll = () => {
            const elements = document.querySelectorAll('.user-card, .event-card, .about-section, .admin-panel');
            
            elements.forEach(element => {
                const elementPosition = element.getBoundingClientRect().top;
                const screenPosition = window.innerHeight / 1.3;
                
                if (elementPosition < screenPosition) {
                    element.classList.add('animate-fadeIn');
                }
            });
        };

        // Listen for scroll events
        window.addEventListener('scroll', animateOnScroll);
        
        // Initial check for elements in view
        animateOnScroll();

        // Add hover animations to buttons
        const buttons = document.querySelectorAll('.btn');
        buttons.forEach(button => {
            button.addEventListener('mouseenter', function() {
                this.classList.add('animate__animated', 'animate__pulse');
            });
            
            button.addEventListener('mouseleave', function() {
                this.classList.remove('animate__animated', 'animate__pulse');
            });
        });

        // Add event registration functionality to event cards
        const registerButtons = document.querySelectorAll('.event-card .btn');
        registerButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                showModal(studentModal);
            });
        });

        // Add fade-in animations to elements as they come into view
        const fadeElements = document.querySelectorAll('.fade-in');
        const fadeInObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        fadeElements.forEach(element => {
            fadeInObserver.observe(element);
        });

        // DOM Elements for Admin Dashboard
        const sections = document.querySelectorAll('section');
        
        // Event Listeners for Admin Dashboard
        adminTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                
                // Update active tab
                adminTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Show corresponding content
                adminContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === `${tabId}-content`) {
                        content.classList.add('active');
                    }
                });
            });
        });
        
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = link.getAttribute('data-section');
                
                // Update active link
                navLinks.forEach(l => l.classList.remove('active'));
                link.classList.add('active');
                
                // Show corresponding section
                if (sectionId === 'admin') {
                    document.getElementById('admin-dashboard').classList.add('active');
                } else {
                    document.getElementById('admin-dashboard').classList.remove('active');
                }
            });
        });
        
        // API Functions for Admin Dashboard
        async function fetchEvents() {
            populateEventSelects(mockEvents);
            updateEventImages();
        }
        
        function populateEventSelects(events) {
            const studentEventSelect = document.querySelector('#student-modal #event-select');
            const adminEventSelect = document.getElementById('event-select-admin');
            const paymentEventSelect = document.getElementById('payment-event-select');
            
            // Clear existing options except the first one
            while (studentEventSelect.options.length > 1) {
                studentEventSelect.remove(1);
            }
            
            while (adminEventSelect.options.length > 1) {
                adminEventSelect.remove(1);
            }
            
            while (paymentEventSelect.options.length > 1) {
                paymentEventSelect.remove(1);
            }
            
            events.forEach(event => {
                const option = document.createElement('option');
                option.value = event._id;
                option.textContent = event.title;
                
                studentEventSelect.appendChild(option.cloneNode(true));
                adminEventSelect.appendChild(option.cloneNode(true));
                paymentEventSelect.appendChild(option.cloneNode(true));
            });
        }
        
        function updateEventImages() {
            const eventCards = document.querySelectorAll('.event-card');
            
            eventCards.forEach((card, index) => {
                if (index < mockEvents.length) {
                    const event = mockEvents[index];
                    const imageDiv = card.querySelector('.event-image');
                    
                    if (event.image) {
                        imageDiv.style.backgroundImage = `url('${event.image}')`;
                    }
                    
                    // Show edit button only for admins
                    const editBtn = imageDiv.querySelector('.edit-image-btn');
                    if (editBtn) {
                        editBtn.style.display = localStorage.getItem('adminLoggedIn') === 'true' ? 'flex' : 'none';
                    }
                }
            });
        }
        
        async function fetchEventStudents(eventId) {
            if (!eventId) return;
            
            // Filter registrations by event ID
            const filteredRegistrations = mockRegistrations.filter(reg => reg.eventId === eventId);
            populateRegistrationsTable(filteredRegistrations);
        }
        
        function populateRegistrationsTable(registrations) {
            const tableBody = document.getElementById('registrations-table-body');
            tableBody.innerHTML = '';
            
            registrations.forEach(reg => {
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td>${reg.student.name}</td>
                    <td>${reg.student.studentId}</td>
                    <td>${reg.student.email}</td>
                    <td>${new Date(reg.registrationDate).toLocaleDateString()}</td>
                    <td><span class="status-badge status-${reg.status}">${reg.status}</span></td>
                    <td><span class="status-badge payment-${reg.paymentStatus}">${reg.paymentStatus}</span></td>
                    <td class="action-buttons">
                        <button class="btn-action btn-edit" data-id="${reg._id}">Edit</button>
                        <button class="btn-action btn-delete" data-id="${reg._id}">Delete</button>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Add event listeners to action buttons
            document.querySelectorAll('.btn-edit').forEach(btn => {
                btn.addEventListener('click', () => editRegistration(btn.getAttribute('data-id')));
            });
            
            document.querySelectorAll('.btn-delete').forEach(btn => {
                btn.addEventListener('click', () => deleteRegistration(btn.getAttribute('data-id')));
            });
        }
        
        async function fetchPaymentSummary(eventId) {
            // Filter registrations by event ID
            const filteredRegistrations = mockRegistrations.filter(reg => reg.eventId === eventId);
            
            // Calculate summary data
            const totalRegistrations = filteredRegistrations.length;
            const totalExpectedRevenue = filteredRegistrations.reduce((sum, reg) => sum + reg.amount, 0);
            const completedPayments = filteredRegistrations.filter(reg => reg.paymentStatus === 'completed');
            const totalCollectedRevenue = completedPayments.reduce((sum, reg) => sum + reg.amount, 0);
            const percentageCollected = totalExpectedRevenue > 0 ? (totalCollectedRevenue / totalExpectedRevenue) * 100 : 0;
            
            const mockPaymentSummary = {
                event: { registeredCount: totalRegistrations },
                totalExpectedRevenue,
                totalCollectedRevenue,
                percentageCollected
            };
            
            updatePaymentSummary(mockPaymentSummary);
            populatePaymentsTable(filteredRegistrations);
        }
        
        function updatePaymentSummary(data) {
            document.getElementById('total-registrations').textContent = data.event.registeredCount;
            document.getElementById('expected-revenue').textContent = `${data.totalExpectedRevenue}`;
            document.getElementById('collected-revenue').textContent = `${data.totalCollectedRevenue}`;
            document.getElementById('collection-rate').textContent = `${data.percentageCollected.toFixed(2)}%`;
            
            // This would be populated from the students data in a real implementation
        }
        
        async function updatePayment(registrationId, paymentData) {
            showToast('Payment updated successfully', 'success');
            
            // Hide form
            document.getElementById('update-payment-form').style.display = 'none';
            
            // Refresh data
            const eventId = document.getElementById('payment-event-select').value;
            fetchPaymentSummary(eventId);
        }
        
        function editRegistration(registrationId) {
            // Show payment form
            document.getElementById('registration-id').value = registrationId;
            document.getElementById('update-payment-form').style.display = 'block';
            
            // Scroll to form
            document.getElementById('update-payment-form').scrollIntoView({ behavior: 'smooth' });
        }
        
        async function deleteRegistration(registrationId) {
            if (confirm('Are you sure you want to delete this registration?')) {
                // Find the registration index
                const index = mockRegistrations.findIndex(reg => reg._id === registrationId);
                if (index !== -1) {
                    // Remove the registration
                    mockRegistrations.splice(index, 1);
                    
                    // Show success message
                    showToast('Registration deleted successfully', 'success');
                    
                    // Refresh data
                    const eventId = document.getElementById('event-select-admin').value;
                    fetchEventStudents(eventId);
                    
                    // Also refresh payment data if we're on the payments tab
                    const paymentEventId = document.getElementById('payment-event-select').value;
                    if (paymentEventId === eventId) {
                        fetchPaymentSummary(eventId);
                    }
                }
            }
        }
        
        function getToken() {
            // In a real implementation, get the token from localStorage or cookies
            return localStorage.getItem('token') || '';
        }
        
        // Event Listeners for Admin Dashboard
        document.getElementById('event-select-admin').addEventListener('change', (e) => {
            const eventId = e.target.value;
            if (eventId) {
                fetchEventStudents(eventId);
            }
        });
        
        document.getElementById('payment-event-select').addEventListener('change', (e) => {
            const eventId = e.target.value;
            if (eventId) {
                fetchPaymentSummary(eventId);
            }
        });
        
        document.getElementById('payment-form').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const registrationId = document.getElementById('registration-id').value;
            const paymentData = {
                paymentStatus: document.getElementById('payment-status').value,
                paymentMethod: document.getElementById('payment-method').value,
                paymentReference: document.getElementById('payment-reference').value,
                paymentNotes: document.getElementById('payment-notes').value
            };
            
            updatePayment(registrationId, paymentData);
        });
        
        // Initialize Admin Dashboard
        function initAdminDashboard() {
            fetchEvents();
            
            // Check if admin is logged in from previous session
            if (localStorage.getItem('adminLoggedIn') === 'true') {
                adminDashboard.classList.add('active');
                
                // Show edit image buttons
                document.querySelectorAll('.edit-image-btn').forEach(btn => {
                    btn.style.display = 'flex';
                });
                
                // Load initial data for the first event
                if (mockEvents.length > 0) {
                    const firstEventId = mockEvents[0]._id;
                    document.getElementById('event-select-admin').value = firstEventId;
                    document.getElementById('payment-event-select').value = firstEventId;
                    fetchEventStudents(firstEventId);
                    fetchPaymentSummary(firstEventId);
                }
            } else {
                // Hide edit image buttons
                document.querySelectorAll('.edit-image-btn').forEach(btn => {
                    btn.style.display = 'none';
                });
            }
        }
        
        // Call initialization function when page loads
        document.addEventListener('DOMContentLoaded', initAdminDashboard);

        // Admin link event listener
        adminLink.addEventListener('click', function(e) {
            e.preventDefault();
            const user = JSON.parse(localStorage.getItem('user'));
            if (user && user.role === 'admin' && user.email === 'shashankvispute100@gmail.com') {
                // Show admin dashboard in the same page
                adminDashboard.classList.add('active');
                // Load data for the selected event
                if (mockEvents.length > 0) {
                    const eventId = document.getElementById('event-select-admin').value || mockEvents[0]._id;
                    document.getElementById('event-select-admin').value = eventId;
                    document.getElementById('payment-event-select').value = eventId;
                    fetchEventStudents(eventId);
                    fetchPaymentSummary(eventId);
                }
                // Scroll to admin dashboard
                adminDashboard.scrollIntoView({ behavior: 'smooth' });
            } else if (user && user.role === 'club_member') {
                // Show club dashboard in the same page
                adminDashboard.classList.add('active');
                // Load club-specific data
                loadClubData();
                // Scroll to admin dashboard
                adminDashboard.scrollIntoView({ behavior: 'smooth' });
            } else {
                showAdminLoginModal();
            }
        });

        // Load mock data function
        function loadMockData() {
            return { mockEvents, mockRegistrations };
        }
        
        function populateRegistrationsTable(registrations) {
            const tableBody = document.getElementById('registrations-table-body');
            tableBody.innerHTML = '';
            
            registrations.forEach(reg => {
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td>${reg.student.name}</td>
                    <td>${reg.student.studentId}</td>
                    <td>${reg.student.email}</td>
                    <td>${new Date(reg.registrationDate).toLocaleDateString()}</td>
                    <td><span class="status-badge status-${reg.status}">${reg.status}</span></td>
                    <td><span class="status-badge payment-${reg.paymentStatus}">${reg.paymentStatus}</span></td>
                    <td class="action-buttons">
                        <button class="btn-action btn-edit" data-id="${reg._id}">Edit</button>
                        <button class="btn-action btn-delete" data-id="${reg._id}">Delete</button>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Add event listeners to action buttons
            document.querySelectorAll('.btn-edit').forEach(btn => {
                btn.addEventListener('click', () => editRegistration(btn.getAttribute('data-id')));
            });
            
            document.querySelectorAll('.btn-delete').forEach(btn => {
                btn.addEventListener('click', () => deleteRegistration(btn.getAttribute('data-id')));
            });
        }
        
        function populatePaymentsTable(registrations) {
            const tableBody = document.getElementById('payments-table-body');
            tableBody.innerHTML = '';
            
            registrations.forEach(reg => {
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td>${reg.student.name}</td>
                    <td>${reg.student.studentId}</td>
                    <td>${reg.amount}</td>
                    <td><span class="status-badge payment-${reg.paymentStatus}">${reg.paymentStatus}</span></td>
                    <td>${reg.paymentStatus === 'completed' ? new Date(reg.registrationDate).toLocaleDateString() : '-'}</td>
                    <td>${reg.paymentMethod || '-'}</td>
                    <td class="action-buttons">
                        <button class="btn-action btn-edit" data-id="${reg._id}">Update</button>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Add event listeners to action buttons
            document.querySelectorAll('#payments-table-body .btn-edit').forEach(btn => {
                btn.addEventListener('click', () => editRegistration(btn.getAttribute('data-id')));
            });
        }
        
        function editRegistration(registrationId) {
            // Show payment form
            document.getElementById('registration-id').value = registrationId;
            document.getElementById('update-payment-form').style.display = 'block';
            
            // Scroll to form
            document.getElementById('update-payment-form').scrollIntoView({ behavior: 'smooth' });
        }
        
        async function deleteRegistration(registrationId) {
            if (confirm('Are you sure you want to delete this registration?')) {
                // Find the registration index
                const index = mockRegistrations.findIndex(reg => reg._id === registrationId);
                if (index !== -1) {
                    // Remove the registration
                    mockRegistrations.splice(index, 1);
                    
                    // Show success message
                    showToast('Registration deleted successfully', 'success');
                    
                    // Refresh data
                    const eventId = document.getElementById('event-select-admin').value;
                    fetchEventStudents(eventId);
                    
                    // Also refresh payment data if we're on the payments tab
                    const paymentEventId = document.getElementById('payment-event-select').value;
                    if (paymentEventId === eventId) {
                        fetchPaymentSummary(eventId);
                    }
                }
            }
        }
        
        async function updatePayment(registrationId, paymentData) {
            showToast('Payment updated successfully', 'success');
            
            // Hide form
            document.getElementById('update-payment-form').style.display = 'none';
            
            // Refresh data
            const eventId = document.getElementById('payment-event-select').value;
            fetchPaymentSummary(eventId);
        }
        
        // Add event listeners for admin tabs
        adminTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                
                // Update active tab
                adminTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Show corresponding content
                adminContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === `${tabId}-content`) {
                        content.classList.add('active');
                    }
                });
            });
        });
        
        // Event Listeners for Admin Dashboard
        document.getElementById('event-select-admin').addEventListener('change', (e) => {
            const eventId = e.target.value;
            if (eventId) {
                fetchEventStudents(eventId);
            }
        });
        
        document.getElementById('payment-event-select').addEventListener('change', (e) => {
            const eventId = e.target.value;
            if (eventId) {
                fetchPaymentSummary(eventId);
            }
        });
        
        document.getElementById('payment-form').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const registrationId = document.getElementById('registration-id').value;
            const paymentData = {
                paymentStatus: document.getElementById('payment-status').value,
                paymentMethod: document.getElementById('payment-method').value,
                paymentReference: document.getElementById('payment-reference').value,
                paymentNotes: document.getElementById('payment-notes').value
            };
            
            updatePayment(registrationId, paymentData);
        });

        // Add event listener for student event select to update fee
        document.querySelector('#student-modal #event-select').addEventListener('change', function() {
            const eventId = this.value;
            const feeInput = document.getElementById('student-fee');
            
            if (eventId) {
                const event = mockEvents.find(e => e._id === eventId);
                feeInput.value = event ? event.fee : '';
            } else {
                feeInput.value = '';
            }
        });

        // Image upload functionality
        const imageUploadModal = document.getElementById('image-upload-modal');
        const imagePreview = document.getElementById('image-preview');
        const imageEventId = document.getElementById('image-event-id');
        const imageFileInput = document.getElementById('event-image-file');
        const imageUrlInput = document.getElementById('image-url');
        
        // Add event listeners to edit image buttons
        document.addEventListener('click', function(e) {
            if (e.target.closest('.edit-image-btn')) {
                const btn = e.target.closest('.edit-image-btn');
                const eventId = btn.getAttribute('data-event-id');
                const event = mockEvents.find(e => e._id === eventId);
                
                if (event) {
                    imageEventId.value = eventId;
                    
                    if (event.image) {
                        imagePreview.style.backgroundImage = `url('${event.image}')`;
                    } else {
                        imagePreview.style.backgroundImage = 'none';
                    }
                    
                    showModal(imageUploadModal);
                }
            }
        });
        
        // Handle image file input change
        imageFileInput.addEventListener('change', function() {
            if (this.files && this.files[0]) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    imagePreview.style.backgroundImage = `url('${e.target.result}')`;
                    imageUrlInput.value = ''; // Clear URL input
                };
                
                reader.readAsDataURL(this.files[0]);
            }
        });
        
        // Handle image URL input change
        imageUrlInput.addEventListener('input', function() {
            if (this.value) {
                imagePreview.style.backgroundImage = `url('${this.value}')`;
                imageFileInput.value = ''; // Clear file input
            }
        });
        
        // Handle image upload form submission
        document.getElementById('image-upload-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const eventId = imageEventId.value;
            const imageUrl = imageUrlInput.value;
            const imageFile = imageFileInput.files[0];
            
            if (!eventId) return;
            
            let newImageUrl = '';
            
            if (imageUrl) {
                newImageUrl = imageUrl;
            } else if (imageFile) {
                // In a real app, you would upload the file to a server
                // For this demo, we'll use a FileReader to get a data URL
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    newImageUrl = e.target.result;
                    
                    // Update the event image
                    const eventIndex = mockEvents.findIndex(e => e._id === eventId);
                    if (eventIndex !== -1) {
                        mockEvents[eventIndex].image = newImageUrl;
                        
                        // Update the UI
                        updateEventImages();
                        
                        // Show success message
                        showToast('Event image updated successfully', 'success');
                        
                        // Close the modal
                        hideModal(imageUploadModal);
                    }
                };
                
                reader.readAsDataURL(imageFile);
                return;
            }
            
            // Update the event image
            const eventIndex = mockEvents.findIndex(e => e._id === eventId);
            if (eventIndex !== -1) {
                mockEvents[eventIndex].image = newImageUrl;
                
                // Update the UI
                updateEventImages();
                
                // Show success message
                showToast('Event image updated successfully', 'success');
                
                // Close the modal
                hideModal(imageUploadModal);
            }
        });

        // Update the student registration form to include payment mode
        function showStudentRegistrationModal() {
            const modal = document.getElementById('student-modal');
            const form = document.getElementById('student-registration-form');
            
            // Reset form
            form.reset();
            
            // Show modal
            showModal(modal);
        }

        // Add event listener for event selection
        document.getElementById('event-select').addEventListener('change', function() {
            const selectedOption = this.options[this.selectedIndex];
            const fee = selectedOption.dataset.fee;
            document.getElementById('event-fee').value = fee;
            document.getElementById('upi-amount').textContent = fee;
        });

        // Update payment mode change handler
        document.getElementById('payment-mode').addEventListener('change', function() {
            const selectedMode = this.value;
            const paymentReferenceGroup = document.getElementById('payment-reference-group');
            const paymentScreenshotGroup = document.getElementById('payment-screenshot-group');
            const upiDetails = document.getElementById('upi-details');
            
            if (selectedMode === 'online') {
                paymentReferenceGroup.style.display = 'block';
                paymentScreenshotGroup.style.display = 'block';
                upiDetails.style.display = 'block';
            } else if (selectedMode === 'card') {
                paymentReferenceGroup.style.display = 'block';
                paymentScreenshotGroup.style.display = 'block';
                upiDetails.style.display = 'none';
            } else {
                paymentReferenceGroup.style.display = 'none';
                paymentScreenshotGroup.style.display = 'none';
                upiDetails.style.display = 'none';
            }
        });

        // Add function to copy UPI ID
        function copyUPI() {
            const upiId = '9404902005@ybl';
            navigator.clipboard.writeText(upiId).then(() => {
                showToast('UPI ID copied to clipboard!', 'success');
            }).catch(() => {
                showToast('Failed to copy UPI ID', 'error');
            });
        }

        // Update the handleStudentRegistration function
        async function handleStudentRegistration(e) {
            e.preventDefault();
            const form = e.target;
            const formData = new FormData(form);
            
            // Get payment screenshot if exists
            let paymentScreenshot = null;
            const screenshotFile = formData.get('payment-screenshot');
            if (screenshotFile && screenshotFile.size > 0) {
                paymentScreenshot = await new Promise((resolve) => {
                    const reader = new FileReader();
                    reader.onload = (e) => resolve(e.target.result);
                    reader.readAsDataURL(screenshotFile);
                });
            }
            
            const registration = {
                _id: Date.now().toString(),
                student: {
                    name: formData.get('name'),
                    studentId: formData.get('student-id'),
                    email: formData.get('email'),
                    phone: formData.get('phone')
                },
                eventId: formData.get('event-id'),
                registrationDate: new Date().toISOString(),
                status: 'pending',
                paymentStatus: 'pending',
                paymentMethod: formData.get('payment-mode'),
                paymentReference: formData.get('payment-reference') || '',
                paymentScreenshot: paymentScreenshot,
                amount: parseInt(formData.get('event-fee').value)
            };

            mockRegistrations.push(registration);
            
            // Show success message
            const successMessage = document.createElement('div');
            successMessage.className = 'success-message';
            successMessage.innerHTML = `
                <i class="fas fa-check-circle"></i>
                <h4>Registration Successful!</h4>
                <p>Your registration has been submitted successfully.</p>
                <p>Registration ID: ${registration._id}</p>
                <p>Please keep this ID for future reference.</p>
                <p>You will receive a confirmation email shortly.</p>
            `;
            
            // Insert success message before the form
            form.parentNode.insertBefore(successMessage, form);
            successMessage.style.display = 'block';
            
            // Hide the form
            form.style.display = 'none';
            
            // Show success toast
            showToast('Registration submitted successfully!', 'success');
            
            // Update the registrations table
            updateRegistrationsTable();
            
            // Close modal after 5 seconds
            setTimeout(() => {
                hideModal(document.getElementById('student-modal'));
            }, 5000);
        }

        // Add event listener for the student registration form
        document.getElementById('student-registration-form').addEventListener('submit', handleStudentRegistration);

        // Update the updateRegistrationsTable function to show payment details
        function updateRegistrationsTable() {
            const tableBody = document.getElementById('registrations-table-body');
            if (!tableBody) return;

            tableBody.innerHTML = mockRegistrations.map(reg => `
                <tr>
                    <td>${reg.student.name}</td>
                    <td>${reg.student.studentId}</td>
                    <td>${reg.student.email}</td>
                    <td>${reg.student.phone}</td>
                    <td>${reg.amount}</td>
                    <td>${reg.paymentMethod}</td>
                    <td><span class="status-badge status-${reg.paymentStatus}">${reg.paymentStatus}</span></td>
                    <td>${new Date(reg.registrationDate).toLocaleDateString()}</td>
                    <td>
                        <button class="btn-action btn-view" onclick="viewRegistration('${reg._id}')">View</button>
                        <button class="btn-action btn-edit" onclick="editRegistration('${reg._id}')">Edit</button>
                    </td>
                </tr>
            `).join('');
        }

        // Add these functions to your existing JavaScript
        function openRegistrationModal(eventId, eventTitle, entryFee) {
            const modal = document.getElementById('student-modal');
            document.getElementById('selected-event-title').textContent = eventTitle;
            document.getElementById('selected-event-fee').textContent = entryFee;
            document.getElementById('upi-amount').textContent = entryFee;
            document.getElementById('cash-amount').textContent = entryFee;
            
            // Store event details in form
            const form = document.getElementById('student-registration-form');
            form.dataset.eventId = eventId;
            form.dataset.eventTitle = eventTitle;
            form.dataset.entryFee = entryFee;
            
            showModal(modal);
        }

        function togglePaymentDetails() {
            const paymentMode = document.getElementById('payment-mode').value;
            const upiDetails = document.getElementById('upi-details');
            const cashDetails = document.getElementById('cash-details');
            
            if (paymentMode === 'online') {
                upiDetails.style.display = 'block';
                cashDetails.style.display = 'none';
            } else if (paymentMode === 'cash') {
                upiDetails.style.display = 'none';
                cashDetails.style.display = 'block';
            } else {
                upiDetails.style.display = 'none';
                cashDetails.style.display = 'none';
            }
        }

        function copyUPI() {
            const upiId = '9404902005@ybl';
            navigator.clipboard.writeText(upiId).then(() => {
                showToast('UPI ID copied to clipboard!', 'success');
            }).catch(() => {
                showToast('Failed to copy UPI ID', 'error');
            });
        }

        // Update the handleStudentRegistration function
        async function handleStudentRegistration(e) {
            e.preventDefault();
            const form = e.target;
            const formData = new FormData(form);
            
            // Get event details from form dataset
            const eventId = form.dataset.eventId;
            const eventTitle = form.dataset.eventTitle;
            const entryFee = parseInt(form.dataset.entryFee);
            
            if (!eventId || !eventTitle || isNaN(entryFee)) {
                showToast('Please select a valid event', 'error');
                return;
            }
            
            // Get payment screenshot if exists
            let paymentScreenshot = null;
            const screenshotFile = formData.get('payment-screenshot');
            if (screenshotFile && screenshotFile.size > 0) {
                paymentScreenshot = await new Promise((resolve) => {
                    const reader = new FileReader();
                    reader.onload = (e) => resolve(e.target.result);
                    reader.readAsDataURL(screenshotFile);
                });
            }
            
            const registration = {
                _id: Date.now().toString(),
                eventId: eventId,
                eventTitle: eventTitle,
                student: {
                    name: formData.get('name'),
                    studentId: formData.get('student-id'),
                    email: formData.get('email'),
                    phone: formData.get('phone'),
                    class: formData.get('student-class')
                },
                registrationDate: new Date().toISOString(),
                status: 'pending',
                paymentStatus: 'pending',
                paymentMethod: formData.get('payment-mode'),
                paymentReference: formData.get('transaction-id') || '',
                paymentScreenshot: paymentScreenshot,
                amount: entryFee
            };

            // Add to mock registrations
            mockRegistrations.push(registration);
            
            // Show success message
            const successMessage = document.createElement('div');
            successMessage.className = 'success-message';
            successMessage.innerHTML = `
                <i class="fas fa-check-circle"></i>
                <h4>Registration Successful!</h4>
                <p>Your registration for "${eventTitle}" has been submitted successfully.</p>
                <p>Registration ID: ${registration._id}</p>
                <p>Amount Paid: ${entryFee}</p>
                <p>Please keep this ID for future reference.</p>
                <p>You will receive a confirmation email shortly.</p>
            `;
            
            // Insert success message before the form
            form.parentNode.insertBefore(successMessage, form);
            successMessage.style.display = 'block';
            
            // Hide the form
            form.style.display = 'none';
            
            // Show success toast
            showToast('Registration submitted successfully!', 'success');
            
            // Update the registrations table
            updateRegistrationsTable();
            
            // Close modal after 5 seconds
            setTimeout(() => {
                hideModal(document.getElementById('student-modal'));
            }, 5000);
        }

        // Add these functions to your existing JavaScript
        function showStudentSection(section) {
            // Hide all sections
            document.querySelectorAll('.student-section').forEach(s => {
                s.style.display = 'none';
            });
            
            // Show selected section
            document.getElementById(`student-${section}`).style.display = 'block';
            
            // Update menu items
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
        }

        function filterEvents() {
            const category = document.getElementById('event-category-filter').value;
            const search = document.getElementById('event-search').value.toLowerCase();
            const events = document.querySelectorAll('.event-card');
            
            events.forEach(event => {
                const eventCategory = event.dataset.category;
                const eventTitle = event.querySelector('h3').textContent.toLowerCase();
                const eventDescription = event.querySelector('p').textContent.toLowerCase();
                
                const matchesCategory = category === 'all' || eventCategory === category;
                const matchesSearch = eventTitle.includes(search) || eventDescription.includes(search);
                
                event.style.display = matchesCategory && matchesSearch ? 'block' : 'none';
            });
        }

        function filterRegistrations() {
            const status = document.getElementById('registration-status-filter').value;
            const rows = document.querySelectorAll('#registrations-table-body tr');
            
            rows.forEach(row => {
                const rowStatus = row.querySelector('.status-badge').textContent.toLowerCase();
                row.style.display = status === 'all' || rowStatus === status ? '' : 'none';
            });
        }

        // Update the registration form to include class selection
        function openRegistrationModal(eventId, eventTitle, entryFee) {
            const modal = document.getElementById('student-modal');
            document.getElementById('selected-event-title').textContent = eventTitle;
            document.getElementById('selected-event-fee').textContent = entryFee;
            document.getElementById('upi-amount').textContent = entryFee;
            document.getElementById('cash-amount').textContent = entryFee;
            
            // Store event details in form
            const form = document.getElementById('student-registration-form');
            form.dataset.eventId = eventId;
            form.dataset.eventTitle = eventTitle;
            form.dataset.entryFee = entryFee;
            
            showModal(modal);
        }

        // Update the handleStudentRegistration function to include class
        async function handleStudentRegistration(e) {
            e.preventDefault();
            const form = e.target;
            const formData = new FormData(form);
            
            // Get event details from form dataset
            const eventId = form.dataset.eventId;
            const eventTitle = form.dataset.eventTitle;
            const entryFee = parseInt(form.dataset.entryFee);
            
            if (!eventId || !eventTitle || isNaN(entryFee)) {
                showToast('Please select a valid event', 'error');
                return;
            }
            
            // Get payment screenshot if exists
            let paymentScreenshot = null;
            const screenshotFile = formData.get('payment-screenshot');
            if (screenshotFile && screenshotFile.size > 0) {
                paymentScreenshot = await new Promise((resolve) => {
                    const reader = new FileReader();
                    reader.onload = (e) => resolve(e.target.result);
                    reader.readAsDataURL(screenshotFile);
                });
            }
            
            const registration = {
                _id: Date.now().toString(),
                eventId: eventId,
                eventTitle: eventTitle,
                student: {
                    name: formData.get('name'),
                    studentId: formData.get('student-id'),
                    email: formData.get('email'),
                    phone: formData.get('phone'),
                    class: formData.get('student-class')
                },
                registrationDate: new Date().toISOString(),
                status: 'pending',
                paymentStatus: 'pending',
                paymentMethod: formData.get('payment-mode'),
                paymentReference: formData.get('transaction-id') || '',
                paymentScreenshot: paymentScreenshot,
                amount: entryFee
            };

            // Add to mock registrations
            mockRegistrations.push(registration);
            
            // Show success message
            const successMessage = document.createElement('div');
            successMessage.className = 'success-message';
            successMessage.innerHTML = `
                <i class="fas fa-check-circle"></i>
                <h4>Registration Successful!</h4>
                <p>Your registration for "${eventTitle}" has been submitted successfully.</p>
                <p>Registration ID: ${registration._id}</p>
                <p>Please keep this ID for future reference.</p>
                <p>You will receive a confirmation email shortly.</p>
            `;
            
            // Insert success message before the form
            form.parentNode.insertBefore(successMessage, form);
            successMessage.style.display = 'block';
            
            // Hide the form
            form.style.display = 'none';
            
            // Show success toast
            showToast('Registration submitted successfully!', 'success');
            
            // Update the registrations table
            updateRegistrationsTable();
            
            // Close modal after 5 seconds
            setTimeout(() => {
                hideModal(document.getElementById('student-modal'));
            }, 5000);
        }

        // Add these functions to your existing JavaScript
        function showEventSelector() {
            const selector = document.getElementById('event-selector');
            const selectedInfo = document.getElementById('selected-event-info');
            const preview = document.getElementById('event-details-preview');
            
            if (selector.style.display === 'none') {
                selector.style.display = 'block';
                selectedInfo.style.display = 'none';
                populateModalEventSelect();
            } else {
                selector.style.display = 'none';
                selectedInfo.style.display = 'block';
                preview.style.display = 'none';
            }
        }

        function populateModalEventSelect() {
            const select = document.getElementById('modal-event-select');
            select.innerHTML = '<option value="">Choose an event...</option>';
            
            mockEvents.forEach(event => {
                const option = document.createElement('option');
                option.value = event._id;
                option.textContent = `${event.title} - ${event.entryFee}`;
                option.dataset.date = event.date;
                option.dataset.time = event.time;
                option.dataset.location = event.location;
                option.dataset.capacity = event.capacity;
                option.dataset.entryFee = event.entryFee;
                option.dataset.title = event.title;
                option.dataset.description = event.description;
                option.dataset.category = event.category;
                select.appendChild(option);
            });
        }

        function updateSelectedEvent() {
            const select = document.getElementById('modal-event-select');
            const preview = document.getElementById('event-details-preview');
            const selectedOption = select.options[select.selectedIndex];
            
            if (select.value) {
                const entryFee = parseInt(selectedOption.dataset.entryFee);
                
                // Update preview
                document.getElementById('preview-date').textContent = new Date(selectedOption.dataset.date).toLocaleDateString();
                document.getElementById('preview-time').textContent = selectedOption.dataset.time;
                document.getElementById('preview-location').textContent = selectedOption.dataset.location;
                document.getElementById('preview-capacity').textContent = selectedOption.dataset.capacity;
                document.getElementById('preview-fee').textContent = entryFee;
                preview.style.display = 'block';
                
                // Update form data
                const form = document.getElementById('student-registration-form');
                form.dataset.eventId = select.value;
                form.dataset.eventTitle = selectedOption.dataset.title;
                form.dataset.entryFee = entryFee;
                
                // Update displayed values
                document.getElementById('selected-event-title').textContent = selectedOption.dataset.title;
                document.getElementById('selected-event-date').textContent = new Date(selectedOption.dataset.date).toLocaleDateString();
                document.getElementById('selected-event-time').textContent = selectedOption.dataset.time;
                document.getElementById('selected-event-location').textContent = selectedOption.dataset.location;
                document.getElementById('selected-event-capacity').textContent = selectedOption.dataset.capacity;
                document.getElementById('selected-event-fee').textContent = entryFee;
                document.getElementById('upi-amount').textContent = entryFee;
                document.getElementById('cash-amount').textContent = entryFee;
                
                // Show selected event info and hide selector
                document.getElementById('selected-event-info').style.display = 'block';
                document.getElementById('event-selector').style.display = 'none';
                
                showToast('Event updated successfully!', 'success');
            }
        }

        // Update the openRegistrationModal function
        function openRegistrationModal(eventId, eventTitle, entryFee) {
            const modal = document.getElementById('student-modal');
            const fee = parseInt(entryFee);
            
            // Find the event details from mockEvents
            const event = mockEvents.find(e => e._id === eventId);
            if (!event) {
                showToast('Event details not found', 'error');
                return;
            }
            
            // Store event details in form
            const form = document.getElementById('student-registration-form');
            form.dataset.eventId = eventId;
            form.dataset.eventTitle = eventTitle;
            form.dataset.entryFee = fee;
            
            // Update displayed values
            document.getElementById('selected-event-title').textContent = eventTitle;
            document.getElementById('selected-event-date').textContent = new Date(event.date).toLocaleDateString();
            document.getElementById('selected-event-time').textContent = event.time;
            document.getElementById('selected-event-location').textContent = event.location;
            document.getElementById('selected-event-capacity').textContent = event.capacity;
            document.getElementById('selected-event-fee').textContent = fee;
            document.getElementById('upi-amount').textContent = fee;
            document.getElementById('cash-amount').textContent = fee;
            
            // Show selected event info and hide selector
            document.getElementById('selected-event-info').style.display = 'block';
            document.getElementById('event-selector').style.display = 'none';
            
            showModal(modal);
        }

        // Update the updateSelectedEvent function
        function updateSelectedEvent() {
            const select = document.getElementById('modal-event-select');
            const preview = document.getElementById('event-details-preview');
            const selectedOption = select.options[select.selectedIndex];
            
            if (select.value) {
                const entryFee = parseInt(selectedOption.dataset.entryFee);
                
                // Update preview
                document.getElementById('preview-date').textContent = new Date(selectedOption.dataset.date).toLocaleDateString();
                document.getElementById('preview-time').textContent = selectedOption.dataset.time;
                document.getElementById('preview-location').textContent = selectedOption.dataset.location;
                document.getElementById('preview-capacity').textContent = selectedOption.dataset.capacity;
                document.getElementById('preview-fee').textContent = entryFee;
                preview.style.display = 'block';
                
                // Update form data
                const form = document.getElementById('student-registration-form');
                form.dataset.eventId = select.value;
                form.dataset.eventTitle = selectedOption.dataset.title;
                form.dataset.entryFee = entryFee;
                
                // Update displayed values
                document.getElementById('selected-event-title').textContent = selectedOption.dataset.title;
                document.getElementById('selected-event-date').textContent = new Date(selectedOption.dataset.date).toLocaleDateString();
                document.getElementById('selected-event-time').textContent = selectedOption.dataset.time;
                document.getElementById('selected-event-location').textContent = selectedOption.dataset.location;
                document.getElementById('selected-event-capacity').textContent = selectedOption.dataset.capacity;
                document.getElementById('selected-event-fee').textContent = entryFee;
                document.getElementById('upi-amount').textContent = entryFee;
                document.getElementById('cash-amount').textContent = entryFee;
                
                // Show selected event info and hide selector
                document.getElementById('selected-event-info').style.display = 'block';
                document.getElementById('event-selector').style.display = 'none';
                
                showToast('Event updated successfully!', 'success');
            }
        }

        // Update the displayUpcomingEvents function
        function displayUpcomingEvents() {
            const grid = document.getElementById('upcoming-events-grid');
            if (!grid) return;

            grid.innerHTML = mockEvents.map(event => `
                <div class="event-card" data-category="${event.category}">
                    <div class="event-content">
                        <h3>${event.title}</h3>
                        <p>${event.description}</p>
                        <div class="event-details">
                            <p><i class="fas fa-calendar"></i> ${new Date(event.date).toLocaleDateString()}</p>
                            <p><i class="fas fa-clock"></i> ${event.time}</p>
                            <p><i class="fas fa-map-marker-alt"></i> ${event.location}</p>
                            <p><i class="fas fa-users"></i> ${event.capacity} participants</p>
                        </div>
                        <div class="event-footer">
                            <div class="event-fee">
                                <i class="fas fa-ticket-alt"></i> Entry Fee: ${event.entryFee}
                            </div>
                            <button class="register-btn" onclick="openRegistrationModal('${event._id}', '${event.title}', ${event.entryFee})">
                                Register Now
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Update the filterEvents function
        function filterEvents() {
            const search = document.getElementById('event-search').value.toLowerCase();
            const category = document.getElementById('event-category-filter').value;
            const events = document.querySelectorAll('.event-card');
            
            events.forEach(event => {
                const eventTitle = event.querySelector('h3').textContent.toLowerCase();
                const eventDescription = event.querySelector('p').textContent.toLowerCase();
                const eventCategory = event.dataset.category;
                
                const matchesSearch = eventTitle.includes(search) || eventDescription.includes(search);
                const matchesCategory = category === 'all' || eventCategory === category;
                
                event.style.display = matchesSearch && matchesCategory ? 'block' : 'none';
            });
        }

        // Call displayUpcomingEvents when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            displayUpcomingEvents();
        });

        // Update the search functionality
        function performSearch() {
            const searchInput = document.getElementById('event-search');
            const categoryFilter = document.getElementById('event-category-filter');
            const searchTerm = searchInput.value.toLowerCase().trim();
            const category = categoryFilter.value;
            const eventCards = document.querySelectorAll('.event-card');
            let hasResults = false;

            eventCards.forEach(card => {
                const title = card.querySelector('h3').textContent.toLowerCase();
                const description = card.querySelector('p').textContent.toLowerCase();
                const eventCategory = card.dataset.category;
                
                const matchesSearch = searchTerm === '' || 
                    title.includes(searchTerm) || 
                    description.includes(searchTerm);
                const matchesCategory = category === 'all' || eventCategory === category;
                
                if (matchesSearch && matchesCategory) {
                    card.style.display = 'block';
                    hasResults = true;
                } else {
                    card.style.display = 'none';
                }
            });

            // Show no results message if needed
            const noResultsMsg = document.getElementById('no-results-message');
            if (!hasResults) {
                if (!noResultsMsg) {
                    const msg = document.createElement('div');
                    msg.id = 'no-results-message';
                    msg.className = 'no-results';
                    msg.innerHTML = `
                        <div class="no-results-content">
                            <i class="fas fa-search"></i>
                            <h3>No events found</h3>
                            <p>Try adjusting your search or filter criteria</p>
                        </div>
                    `;
                    document.querySelector('.events-grid').appendChild(msg);
                }
            } else if (noResultsMsg) {
                noResultsMsg.remove();
            }
        }

        // Add event listener for search input
        document.getElementById('event-search').addEventListener('keyup', function(event) {
            if (event.key === 'Enter') {
                performSearch();
            }
        });

        // Style for no results message
        const style = document.createElement('style');
        style.textContent = `
            .no-results {
                width: 100%;
                padding: 40px 20px;
                text-align: center;
                color: #666;
            }
            .no-results-content {
                max-width: 300px;
                margin: 0 auto;
            }
            .no-results i {
                font-size: 2em;
                margin-bottom: 15px;
                color: #999;
            }
            .no-results h3 {
                margin-bottom: 10px;
                color: #444;
            }
        `;
        document.head.appendChild(style);

        // Admin Login Functionality
        document.addEventListener('DOMContentLoaded', function() {
            const adminBtn = document.getElementById('faculty-admin-btn');
            const adminLoginModal = document.getElementById('adminLoginModal');
            const adminDashboardModal = document.getElementById('adminDashboardModal');
            const adminLoginForm = document.getElementById('adminLoginForm');

            if (adminBtn) {
                adminBtn.addEventListener('click', function() {
                    adminLoginModal.style.display = 'block';
                });
            }

            if (adminLoginForm) {
                adminLoginForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const email = document.getElementById('adminEmail').value;
                    const password = document.getElementById('adminPassword').value;

                    if (email === 'shashankvispute100@gmail.com' && password === 'Shashank@5') {
                        adminLoginModal.style.display = 'none';
                        adminDashboardModal.style.display = 'block';
                        loadMembers(); // Load existing members
                    } else {
                        alert('Invalid credentials. Please try again.');
                    }
                });
            }

            // Close modals when clicking the X or outside
            document.querySelectorAll('.close').forEach(closeBtn => {
                closeBtn.addEventListener('click', function() {
                    this.closest('.modal').style.display = 'none';
                });
            });

            window.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    e.target.style.display = 'none';
                }
            });
        });

        // Create Member Functionality
        document.getElementById('createMemberForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const memberData = {
                name: document.getElementById('memberName').value,
                email: document.getElementById('memberEmail').value,
                role: document.getElementById('memberRole').value,
                password: document.getElementById('memberPassword').value
            };
            
            // Here you would typically send this to your backend
            console.log('Creating member:', memberData);
            alert('Member created successfully!');
            this.reset();
            loadMembers(); // Refresh member list
        });

        // Reset Password Functionality
        document.getElementById('resetPasswordForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('resetEmail').value;
            // Here you would typically send this to your backend
            console.log('Resetting password for:', email);
            alert('Password reset email sent!');
            this.reset();
        });

        // Load Members Function
        function loadMembers() {
            const memberList = document.getElementById('memberList');
            // Sample members - replace with actual data from backend
            const members = [
                { name: 'John Doe', email: 'john@example.com', role: 'Organizer' },
                { name: 'Jane Smith', email: 'jane@example.com', role: 'Guest' }
            ];

            memberList.innerHTML = members.map(member => `
                <div class="member-item">
                    <div>
                        <strong>${member.name}</strong><br>
                        ${member.email} (${member.role})
                    </div>
                    <div class="member-actions">
                        <button class="btn btn-secondary btn-sm" onclick="editMember('${member.email}')">Edit</button>
                        <button class="btn btn-danger btn-sm" onclick="deleteMember('${member.email}')">Delete</button>
                    </div>
                </div>
            `).join('');
        }

        // Member Management Functions
        function editMember(email) {
            // Implement edit functionality
            console.log('Editing member:', email);
        }

        function deleteMember(email) {
            if (confirm('Are you sure you want to delete this member?')) {
                // Implement delete functionality
                console.log('Deleting member:', email);
                loadMembers(); // Refresh member list
            }
        }

        document.getElementById('admin-login-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;
            const rememberMe = document.getElementById('remember-me').checked;
            
            // Basic validation
            if (!email || !password) {
                showError('Please fill in all fields');
                return;
            }
            
            if (!isValidEmail(email)) {
                showError('Please enter a valid email address');
                return;
            }
            
            // Show loading state
            const submitButton = this.querySelector('button[type="submit"]');
            const originalButtonText = submitButton.innerHTML;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Logging in...';
            submitButton.disabled = true;
            
            try {
                // In a real application, this would be an API call to your backend
                // For demo purposes, we'll simulate an API call
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // Check credentials (in a real app, this would be handled by the backend)
                if (email === 'shashankvispute100@gmail.com' && password === 'Shashank@5') {
                    // Store login state
                    localStorage.setItem('adminLoggedIn', 'true');
                    localStorage.setItem('adminEmail', email);
                    
                    if (rememberMe) {
                        localStorage.setItem('adminRememberMe', 'true');
                    } else {
                        localStorage.removeItem('adminRememberMe');
                    }
                    
                    // Redirect to admin dashboard
                    window.location.href = 'admin-dashboard.html';
                } else {
                    showError('Invalid email or password');
                }
            } catch (error) {
                showError('An error occurred. Please try again.');
            } finally {
                // Reset button state
                submitButton.innerHTML = originalButtonText;
                submitButton.disabled = false;
            }
        });

        function showError(message) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.innerHTML = `<i class="fas fa-exclamation-circle"></i> ${message}`;
            
            // Remove any existing error message
            const existingError = document.querySelector('.error-message');
            if (existingError) {
                existingError.remove();
            }
            
            // Add new error message
            const form = document.getElementById('admin-login-form');
            form.insertBefore(errorDiv, form.querySelector('button'));
            
            // Remove error message after 3 seconds
            setTimeout(() => {
                errorDiv.remove();
            }, 3000);
        }

        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        // Check if user was previously logged in with remember me
        window.addEventListener('load', function() {
            const rememberMe = localStorage.getItem('adminRememberMe') === 'true';
            if (rememberMe) {
                const savedEmail = localStorage.getItem('adminEmail');
                if (savedEmail) {
                    document.getElementById('admin-email').value = savedEmail;
                    document.getElementById('remember-me').checked = true;
                }
            }
        });

        // Club Member Login
        document.getElementById('club-member-login-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const email = document.getElementById('club-member-email').value;
            const password = document.getElementById('club-member-password').value;
            const rememberMe = document.getElementById('club-member-remember-me').checked;
            
            // Basic validation
            if (!email || !password) {
                showError('Please fill in all fields');
                return;
            }
            
            if (!isValidEmail(email)) {
                showError('Please enter a valid email address');
                return;
            }
            
            // Show loading state
            const submitButton = this.querySelector('.login-btn');
            submitButton.classList.add('loading');
            
            try {
                // Simulate API call
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // Check credentials
                if (email === 'shashankvispute100@gmail.com' && password === 'Shashank@5') {
                    // Show success message
                    const successMessage = document.getElementById('success-message');
                    successMessage.style.display = 'flex';
                    
                    // Store login state if remember me is checked
                    if (rememberMe) {
                        localStorage.setItem('clubMemberEmail', email);
                        localStorage.setItem('clubMemberPassword', password);
                        localStorage.setItem('clubMemberRememberMe', 'true');
                    }
                    
                    // Redirect after delay
                    setTimeout(() => {
                        window.location.href = 'dashboard.html';
                    }, 1500);
                } else {
                    showError('Invalid email or password');
                }
            } catch (error) {
                showError('An error occurred. Please try again.');
            } finally {
                submitButton.classList.remove('loading');
            }
        });

        // Toggle password visibility
        document.querySelector('.toggle-password').addEventListener('click', function() {
            const passwordInput = document.getElementById('club-member-password');
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            this.classList.toggle('fa-eye');
            this.classList.toggle('fa-eye-slash');
        });

        // Check for saved credentials
        document.addEventListener('DOMContentLoaded', function() {
            const rememberMe = localStorage.getItem('clubMemberRememberMe');
            if (rememberMe === 'true') {
                const email = localStorage.getItem('clubMemberEmail');
                const password = localStorage.getItem('clubMemberPassword');
                if (email && password) {
                    document.getElementById('club-member-email').value = email;
                    document.getElementById('club-member-password').value = password;
                    document.getElementById('club-member-remember-me').checked = true;
                }
            }
        });

        // Remove the click event listener since we're using direct href now
        // document.getElementById('club-member-btn').addEventListener('click', function() {
        //     window.location.href = 'club-member-login.html';
        // });

        // Add these functions to your existing script section
        async function handleRegistration(event) {
            event.preventDefault();
            
            const form = event.target;
            const formData = new FormData(form);
            
            // Validate Transaction ID
            const transactionId = formData.get('transaction-id');
            if (!transactionId || transactionId.trim() === '') {
                const transactionInput = form.querySelector('#transaction-id');
                transactionInput.classList.add('is-invalid');
                return;
            }
            
            // Create registration object
            const registration = {
                _id: Date.now().toString(),
                eventId: formData.get('eventId'),
                name: formData.get('name'),
                studentId: formData.get('studentId'),
                email: formData.get('email'),
                phone: formData.get('phone'),
                department: formData.get('department'),
                year: formData.get('year'),
                registrationDate: new Date().toISOString(),
                status: 'pending',
                amount: formData.get('amount'),
                paymentStatus: 'pending',
                paymentMethod: formData.get('paymentMethod'),
                transactionId: transactionId.trim()
            };

            try {
                // Get existing registrations
                let newRegistrations = JSON.parse(localStorage.getItem('newRegistrations') || '[]');
                
                // Add new registration
                newRegistrations.push(registration);
                
                // Save to localStorage
                localStorage.setItem('newRegistrations', JSON.stringify(newRegistrations));
                
                // Show loading state
                const submitButton = form.querySelector('button[type="submit"]');
                const originalText = submitButton.innerHTML;
                submitButton.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Processing...';
                submitButton.disabled = true;
                
                // Simulate a small delay for better UX
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // Redirect to success page with smooth transition
                window.location.href = 'registration-success.html';
            } catch (error) {
                console.error('Error saving registration:', error);
                alert('An error occurred while saving your registration. Please try again.');
            }
        }

        // Add this function to show success message
        function showSuccess(message) {
            const successDiv = document.createElement('div');
            successDiv.className = 'alert alert-success alert-dismissible fade show';
            successDiv.role = 'alert';
            successDiv.innerHTML = `
                <i class="fas fa-check-circle me-2"></i>
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            `;
            
            // Insert before the form
            const form = document.getElementById('registrationForm');
            form.parentNode.insertBefore(successDiv, form);
            
            // Auto dismiss after 5 seconds
            setTimeout(() => {
                successDiv.remove();
            }, 5000);
        }

        // Add this to your existing DOMContentLoaded event listener
        document.addEventListener('DOMContentLoaded', function() {
            // Existing initialization code...
            
            // Add form submission handler
            const registrationForm = document.getElementById('registrationForm');
            if (registrationForm) {
                registrationForm.addEventListener('submit', handleRegistration);
            }
            
            // Populate event select
            populateEventSelect();
        });
    </script>
</body>
</html>